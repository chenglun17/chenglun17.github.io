(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{449:function(t,a){t.exports="data:image/png;base64,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"},450:function(t,a,s){t.exports=s.p+"assets/img/image-20230618173748121.99a36f24.png"},656:function(t,a,s){"use strict";s.r(a);var n=s(10),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"filereader"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#filereader"}},[t._v("#")]),t._v(" FileReader")]),t._v(" "),a("h2",{attrs:{id:"基本概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本概念"}},[t._v("#")]),t._v(" ⭐️基本概念")]),t._v(" "),a("p",[t._v("FileReader 是 HTML5 新增的一种"),a("strong",{staticStyle:{color:"#DD5145"}},[t._v("异步文件读取机制")]),t._v("，结合 "),a("strong",[a("code",[t._v("input:file")])]),t._v(" 可以很方便的读取本地文件。")]),t._v(" "),a("p",[t._v("FileReader 对象允许 Web 应用程序异步读取存储在用户计算机上的文件（或原始数据缓冲区）的内容，使用 "),a("code",[t._v("File")]),t._v(" 或 "),a("code",[t._v("Blob")]),t._v(" 对象指定要读取的文件或数据。")]),t._v(" "),a("p",[t._v("FileReader 仅用于以安全的方式从用户（远程）系统读取文件内容 它不能用于从文件系统中按路径名简单地读取文件。要在 JavaScript 中按路径名读取文件，应使用标准 Ajax 解决方案进行服务器端文件读取，如果读取跨域，则使用 CORS 权限。")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("备注：")]),t._v(" 此特性在 Web Worker 中可用")])]),t._v(" "),a("h2",{attrs:{id:"拓展-input-的-file-类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#拓展-input-的-file-类型"}},[t._v("#")]),t._v(" 拓展 -- input 的 file 类型")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[a("code",[t._v("input")]),t._v("标签设置"),a("code",[t._v("type = 'file'")]),t._v("会渲染为一个按钮和一段文字。点击按钮可打开文件选择窗口，文字表示对文件的描述（大部分情况下为文件名）")]),t._v(" "),a("p",[a("img",{attrs:{src:s(449),alt:""}})]),t._v(" "),a("p",[a("strong",[t._v("accept 属性：")])]),t._v(" "),a("p",[t._v("该属性表明了服务器端可接受的文件类型，可以限制你手机选择相关的文件，如果限制多个，可以用逗号分割。")]),t._v(" "),a("p",[t._v("accept 属性接受一个逗号分隔的 MIME 类型字符串, 如:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v('accept=“image/png” 或 accept=".png"')]),t._v(" — 只接受 png 图片.")]),t._v(" "),a("li",[a("strong",[t._v('accept=“image/png, image/jpeg” 或 accept=".png, .jpg, .jpeg"')]),t._v(" — PNG/JPEG 文件.")]),t._v(" "),a("li",[a("strong",[t._v("accept=“image/*”")]),t._v(" — 接受任何图片文件类型.")]),t._v(" "),a("li",[a("strong",[t._v("accept=“audio/*”")]),t._v(" — 接受任何音频文件类型.")]),t._v(" "),a("li",[a("strong",[t._v("accept=“video/*”")]),t._v(" — 接受任何音频视频文件类型.")]),t._v(" "),a("li",[a("strong",[t._v('accept=".doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"')]),t._v(" — 接受任何 MS Doc 文件类型")]),t._v(" "),a("li",[a("code",[t._v("accept='*'")]),t._v(" — 接受全部文件类型.")])]),t._v(" "),a("p",[a("strong",[t._v("multiple 属性：")])]),t._v(" "),a("p",[t._v("multiple属性代表是否可以选择多个文件，多个文件时其value值为第一个文件的虚拟路径。")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("fileId2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("multiple")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("multiple"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),a("p",[a("strong",[t._v("事件监听：")])]),t._v(" "),a("p",[t._v("在 change 事件监听的函数内，file 类型的 input 会有 "),a("strong",{staticStyle:{color:"#DD5145"}},[t._v("files")]),t._v(" 属性，event.target.files 就是保存着文件的相关信息。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#file'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'change'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("files"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("img",{attrs:{src:s(450),alt:""}})]),t._v(" "),a("p",[t._v("webkitRelativePath：此处为空；当在 input 上加上 webkitdirectory 属性时，用户可选择文件夹，此时 webkitRelativePath 表示文件夹中文件的相对路径。")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("webkitdirectory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[a("strong",[t._v("input type file上传文件之后清空内容：")])]),t._v(" "),a("p",[t._v("当我打开上传的文件，但是没有点击上传，然后关闭弹窗，接着继续上传刚才的那个文件")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://blog.csdn.net/AC_Surprise/article/details/120060116",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考文章"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"拓展-base64"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#拓展-base64"}},[t._v("#")]),t._v(" 拓展 -- base64")]),t._v(" "),a("blockquote",[a("p",[t._v("🟢Base64 是一种编码方式，可以将任意二进制数据编码成只包含 64 种字符的文本，以便在文本协议中传输。")]),t._v(" "),a("p",[t._v("在 Base64 编码中，使用了 64 个字符：A-Z、a-z、0-9、+ 和 /，以及一个特殊字符 =（用于填充）。")]),t._v(" "),a("p",[t._v("Base64 编码的原理是将 3 个字节的二进制数据（24 个位）拆分成 4 个 6 位的数据块，然后将这些数据块转换成对应的字符。如果数据长度不足 3 个字节，就需要进行填充，以保证编码后的数据长度是 4 的倍数。")]),t._v(" "),a("p",[t._v("它常用于在处理文本数据的场合，表示、传输、存储一些二进制数据，包括 MIME 的电子邮件及 XML 的一些复杂数据。")])]),t._v(" "),a("h2",{attrs:{id:"filereader-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#filereader-api"}},[t._v("#")]),t._v(" ⭐️FileReader API")]),t._v(" "),a("h3",{attrs:{id:"构造函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#构造函数"}},[t._v("#")]),t._v(" 构造函数")]),t._v(" "),a("p",[t._v("首先创建一个 FileReader 实例：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" reader "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileReader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"实例属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实例属性"}},[t._v("#")]),t._v(" 实例属性")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("error")]),t._v("：返回读取文件时的错误信息")]),t._v(" "),a("li",[a("strong",[t._v("readyState")]),t._v("：表示"),a("code",[t._v("FileReader")]),t._v("在读取操作时的当前状态\n"),a("ul",[a("li",[t._v("0，EMPTY，reader 已经创建。但还没有调用任何方法")]),t._v(" "),a("li",[t._v("1，LOADING，读取的方法已经被调用")]),t._v(" "),a("li",[t._v("2，DONE，完成操作")])])]),t._v(" "),a("li",[a("strong",[t._v("result")]),t._v("：返回文件的内容。只有在读取操作完成后，此属性才有效，返回的数据的格式取决于是使用哪种读取方法来执行读取操作的")])]),t._v(" "),a("h3",{attrs:{id:"实例方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实例方法"}},[t._v("#")]),t._v(" 实例方法")]),t._v(" "),a("p",[a("strong",[t._v("1."),a("code",[t._v("readAsArrayBuffer(file)")])])]),t._v(" "),a("p",[t._v("按字节读取文件内容，结果用ArrayBuffer对象表示")]),t._v(" "),a("p",[a("strong",[t._v("2."),a("code",[t._v("readAsBinaryString(file)")])])]),t._v(" "),a("p",[t._v("按字节读取文件内容，结果为文件的二进制串")]),t._v(" "),a("p",[a("strong",{staticStyle:{color:"orange"}},[t._v("3."),a("code",[t._v("readAsDataURL(file)")])])]),t._v(" "),a("p",[t._v("读取指定的 Blob 或 File 对象，结果用"),a("code",[t._v("data: URL格式的字符串（base64编码）")]),t._v("的形式表示")]),t._v(" "),a("p",[a("strong",{staticStyle:{color:"orange"}},[t._v("4."),a("code",[t._v("readAsText(file, encoding)")])])]),t._v(" "),a("p",[t._v("可以将 Blob 或者 File 对象转根据特殊的编码格式转化为内容 (字符串形式)")]),t._v(" "),a("p",[t._v("这个方法是"),a("strong",[t._v("异步")]),t._v("的，即，只有当执行完成后才能够查看到结果，如果直接查看是无结果的，并返回 undefined")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("reader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("readAsText")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("blob"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" encoding"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// blob：Blob类型或File类型对象")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// encoding：编码类型 (可选)，传入一个字符串类型的编码类型，如不填，则默认为“utf-8”类型")]),t._v("\n")])])]),a("blockquote",[a("p",[a("strong",[t._v("readAText")]),t._v("可按指定编码方式读取文件，但读取文件的单位是字符，故对于文本文件，只要按规定的编码方式读取即可；而对于媒体文件（图片、音频、视频），其内部组成并不是按字符排列，故采用 readAsText 读取，会产生乱码。")])]),t._v(" "),a("p",[a("strong",[t._v("5."),a("code",[t._v("abort()")])])]),t._v(" "),a("p",[t._v("终止文件读取操作，在返回时，readyState 属性为 DONE。")]),t._v(" "),a("h3",{attrs:{id:"事件监听"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件监听"}},[t._v("#")]),t._v(" 事件监听")]),t._v(" "),a("ul",[a("li",[a("strong",[a("code",[t._v("onloadstart")])]),t._v(" 当读取操作开始时调用")]),t._v(" "),a("li",[a("strong",[a("code",[t._v("onprogress")])]),t._v(" 在读取数据过程中周期性调用")]),t._v(" "),a("li",[a("strong",[a("code",[t._v("onabort")])]),t._v(" 当读取操作被中止时调用")]),t._v(" "),a("li",[a("strong",[a("code",[t._v("onerror")])]),t._v(" 当读取操作发生错误时调用")]),t._v(" "),a("li",[a("strong",[a("code",[t._v("onload")])]),t._v(" 当读取操作成功完成时调用")]),t._v(" "),a("li",[a("strong",[a("code",[t._v("onloadend")])]),t._v(" 当读取操作完成时调用，无论成功，失败或取消")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#file'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'change'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fileReader "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileReader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    fileReader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("readAsDataURL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("files"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf-8'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 发起异步请求")]),t._v("\n\n    fileReader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'加载成功'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"应用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#应用场景"}},[t._v("#")]),t._v(" 应用场景")]),t._v(" "),a("h3",{attrs:{id:"缩略图-文本预览"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#缩略图-文本预览"}},[t._v("#")]),t._v(" 缩略图 / 文本预览")]),t._v(" "),a("h2",{attrs:{id:"实例-上传图片"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实例-上传图片"}},[t._v("#")]),t._v(" 实例：上传图片")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("**"),a("code",[t._v("readAsDataURL")]),t._v("**会将文件内容进行 base64 编码后输出：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#file'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'change'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" reader "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileReader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    reader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("readAsDataURL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("files"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf-8'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//发起异步请求")]),t._v("\n\n    reader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onloadstart")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("readRes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 文件大于500kb则取消加载")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("readRes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("total "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            reader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("abort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"开始加载"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    reader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onabort")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("readRes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'加载已取消'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    reader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onprogress")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("readRes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"加载中"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("readRes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loaded "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" readRes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toFixed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("/100")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    reader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("readRes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'加载成功'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#img'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" readRes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("result\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    reader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onloadend")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("readRes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"加载结束"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/FileReader",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN文档"),a("OutboundLink")],1),t._v("、"),a("a",{attrs:{href:"https://blog.csdn.net/weixin_44116302/article/details/91554835",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考文章"),a("OutboundLink")],1),t._v("、"),a("a",{attrs:{href:"https://devpress.csdn.net/viewdesign/64094e44986c660f3cf91cba.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考文章2"),a("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=e.exports}}]);