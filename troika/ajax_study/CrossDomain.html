<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>五、跨域问题 | chenglun17 blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/images/favicon.ico">
    <meta name="description" content="学习学习在学习">
    
    <link rel="preload" href="/assets/css/0.styles.b9bba9f9.css" as="style"><link rel="preload" href="/assets/js/app.8d193749.js" as="script"><link rel="preload" href="/assets/js/3.892b1170.js" as="script"><link rel="preload" href="/assets/js/22.aa8bcf26.js" as="script"><link rel="prefetch" href="/assets/js/10.4a68515e.js"><link rel="prefetch" href="/assets/js/100.d555558e.js"><link rel="prefetch" href="/assets/js/101.3ead7240.js"><link rel="prefetch" href="/assets/js/102.e039e6b6.js"><link rel="prefetch" href="/assets/js/103.5364bae0.js"><link rel="prefetch" href="/assets/js/104.b94bb013.js"><link rel="prefetch" href="/assets/js/105.1f6b6c35.js"><link rel="prefetch" href="/assets/js/106.e6d1cb8e.js"><link rel="prefetch" href="/assets/js/107.25a2d7a1.js"><link rel="prefetch" href="/assets/js/108.94bbceee.js"><link rel="prefetch" href="/assets/js/109.10a4c3da.js"><link rel="prefetch" href="/assets/js/11.d6c61798.js"><link rel="prefetch" href="/assets/js/110.14115edc.js"><link rel="prefetch" href="/assets/js/111.d5353052.js"><link rel="prefetch" href="/assets/js/112.4cc7c29d.js"><link rel="prefetch" href="/assets/js/113.dedc4732.js"><link rel="prefetch" href="/assets/js/114.134629d6.js"><link rel="prefetch" href="/assets/js/115.c7a86835.js"><link rel="prefetch" href="/assets/js/116.654f0da2.js"><link rel="prefetch" href="/assets/js/117.f3421fbc.js"><link rel="prefetch" href="/assets/js/118.4ef936b7.js"><link rel="prefetch" href="/assets/js/119.26fa552f.js"><link rel="prefetch" href="/assets/js/12.68ad377d.js"><link rel="prefetch" href="/assets/js/120.d1d797fa.js"><link rel="prefetch" href="/assets/js/121.78538e11.js"><link rel="prefetch" href="/assets/js/122.aa6a606e.js"><link rel="prefetch" href="/assets/js/123.4bddb251.js"><link rel="prefetch" href="/assets/js/124.f313e78b.js"><link rel="prefetch" href="/assets/js/125.32a7fbe4.js"><link rel="prefetch" href="/assets/js/126.c9ef1a0b.js"><link rel="prefetch" href="/assets/js/127.929ffe87.js"><link rel="prefetch" href="/assets/js/128.9f811cda.js"><link rel="prefetch" href="/assets/js/129.b1fabf66.js"><link rel="prefetch" href="/assets/js/13.8a4d1f28.js"><link rel="prefetch" href="/assets/js/130.e6cba4c8.js"><link rel="prefetch" href="/assets/js/131.41028247.js"><link rel="prefetch" href="/assets/js/132.959f7b31.js"><link rel="prefetch" href="/assets/js/133.bba663cd.js"><link rel="prefetch" href="/assets/js/134.4d028e55.js"><link rel="prefetch" href="/assets/js/135.95fdd070.js"><link rel="prefetch" href="/assets/js/136.2ff16aba.js"><link rel="prefetch" href="/assets/js/137.416ec285.js"><link rel="prefetch" href="/assets/js/138.ee5fc6d7.js"><link rel="prefetch" href="/assets/js/139.1854635a.js"><link rel="prefetch" href="/assets/js/14.721fab7a.js"><link rel="prefetch" href="/assets/js/140.70e1a07f.js"><link rel="prefetch" href="/assets/js/141.6df3e62f.js"><link rel="prefetch" href="/assets/js/142.69fdea5f.js"><link rel="prefetch" href="/assets/js/143.f0e21068.js"><link rel="prefetch" href="/assets/js/144.22396727.js"><link rel="prefetch" href="/assets/js/145.27be6a81.js"><link rel="prefetch" href="/assets/js/146.b52f4bea.js"><link rel="prefetch" href="/assets/js/147.735b2524.js"><link rel="prefetch" href="/assets/js/148.a5b3fbdc.js"><link rel="prefetch" href="/assets/js/149.e9db9554.js"><link rel="prefetch" href="/assets/js/15.df1979d9.js"><link rel="prefetch" href="/assets/js/150.c969aca7.js"><link rel="prefetch" href="/assets/js/151.aa1e6973.js"><link rel="prefetch" href="/assets/js/152.6b4a27ec.js"><link rel="prefetch" href="/assets/js/153.15a4d8cd.js"><link rel="prefetch" href="/assets/js/154.f9802bcb.js"><link rel="prefetch" href="/assets/js/155.4d830467.js"><link rel="prefetch" href="/assets/js/156.9a763f32.js"><link rel="prefetch" href="/assets/js/157.51a1e1b4.js"><link rel="prefetch" href="/assets/js/158.b51f4f52.js"><link rel="prefetch" href="/assets/js/159.e9af00c3.js"><link rel="prefetch" href="/assets/js/16.76b0d7e7.js"><link rel="prefetch" href="/assets/js/160.12649a05.js"><link rel="prefetch" href="/assets/js/161.3b1d9e13.js"><link rel="prefetch" href="/assets/js/162.02b8acc7.js"><link rel="prefetch" href="/assets/js/163.0d7b5618.js"><link rel="prefetch" href="/assets/js/164.5a94c95f.js"><link rel="prefetch" href="/assets/js/165.cf444ffe.js"><link rel="prefetch" href="/assets/js/166.f2a3eda1.js"><link rel="prefetch" href="/assets/js/167.949bacd4.js"><link rel="prefetch" href="/assets/js/168.c275a7f5.js"><link rel="prefetch" href="/assets/js/169.28f044b3.js"><link rel="prefetch" href="/assets/js/17.1189e359.js"><link rel="prefetch" href="/assets/js/170.3599f6e9.js"><link rel="prefetch" href="/assets/js/171.2a964ddc.js"><link rel="prefetch" href="/assets/js/172.4c745fd8.js"><link rel="prefetch" href="/assets/js/18.25ce29ef.js"><link rel="prefetch" href="/assets/js/19.39873d5d.js"><link rel="prefetch" href="/assets/js/2.ac34b83d.js"><link rel="prefetch" href="/assets/js/20.ac0c5572.js"><link rel="prefetch" href="/assets/js/21.e09a5317.js"><link rel="prefetch" href="/assets/js/23.f609a431.js"><link rel="prefetch" href="/assets/js/24.1e76b423.js"><link rel="prefetch" href="/assets/js/25.f90a175c.js"><link rel="prefetch" href="/assets/js/26.24d63652.js"><link rel="prefetch" href="/assets/js/27.69354912.js"><link rel="prefetch" href="/assets/js/28.7a6097d6.js"><link rel="prefetch" href="/assets/js/29.bf24677e.js"><link rel="prefetch" href="/assets/js/30.dd85d982.js"><link rel="prefetch" href="/assets/js/31.6992beb2.js"><link rel="prefetch" href="/assets/js/32.694c4982.js"><link rel="prefetch" href="/assets/js/33.03a1e3c3.js"><link rel="prefetch" href="/assets/js/34.ed95eeed.js"><link rel="prefetch" href="/assets/js/35.4189a503.js"><link rel="prefetch" href="/assets/js/36.5052fb9e.js"><link rel="prefetch" href="/assets/js/37.f246e8b1.js"><link rel="prefetch" href="/assets/js/38.a14a8bc1.js"><link rel="prefetch" href="/assets/js/39.23f4f352.js"><link rel="prefetch" href="/assets/js/4.9cf8d126.js"><link rel="prefetch" href="/assets/js/40.06d26080.js"><link rel="prefetch" href="/assets/js/41.5b71d3c6.js"><link rel="prefetch" href="/assets/js/42.a99421c0.js"><link rel="prefetch" href="/assets/js/43.5c63ca4e.js"><link rel="prefetch" href="/assets/js/44.a46dba7e.js"><link rel="prefetch" href="/assets/js/45.c59bc6d6.js"><link rel="prefetch" href="/assets/js/46.33453990.js"><link rel="prefetch" href="/assets/js/47.677a33f0.js"><link rel="prefetch" href="/assets/js/48.82059c13.js"><link rel="prefetch" href="/assets/js/49.48757b78.js"><link rel="prefetch" href="/assets/js/5.780300d6.js"><link rel="prefetch" href="/assets/js/50.1c23084c.js"><link rel="prefetch" href="/assets/js/51.b5491672.js"><link rel="prefetch" href="/assets/js/52.705a81d9.js"><link rel="prefetch" href="/assets/js/53.1d0d80f1.js"><link rel="prefetch" href="/assets/js/54.f6d77716.js"><link rel="prefetch" href="/assets/js/55.188b914f.js"><link rel="prefetch" href="/assets/js/56.9cb7278d.js"><link rel="prefetch" href="/assets/js/57.58b195a2.js"><link rel="prefetch" href="/assets/js/58.8cfd1c82.js"><link rel="prefetch" href="/assets/js/59.ba381b91.js"><link rel="prefetch" href="/assets/js/6.b844bad1.js"><link rel="prefetch" href="/assets/js/60.8d51a548.js"><link rel="prefetch" href="/assets/js/61.63ecb30b.js"><link rel="prefetch" href="/assets/js/62.89033979.js"><link rel="prefetch" href="/assets/js/63.c002965f.js"><link rel="prefetch" href="/assets/js/64.5dbf32e4.js"><link rel="prefetch" href="/assets/js/65.75753967.js"><link rel="prefetch" href="/assets/js/66.23f1b0b2.js"><link rel="prefetch" href="/assets/js/67.630add84.js"><link rel="prefetch" href="/assets/js/68.cfa7feb2.js"><link rel="prefetch" href="/assets/js/69.ca7c09c5.js"><link rel="prefetch" href="/assets/js/7.adea7b4a.js"><link rel="prefetch" href="/assets/js/70.4d66e7c7.js"><link rel="prefetch" href="/assets/js/71.b673f927.js"><link rel="prefetch" href="/assets/js/72.3706c1a9.js"><link rel="prefetch" href="/assets/js/73.cc781978.js"><link rel="prefetch" href="/assets/js/74.777a979f.js"><link rel="prefetch" href="/assets/js/75.6ea555de.js"><link rel="prefetch" href="/assets/js/76.1ec82a3f.js"><link rel="prefetch" href="/assets/js/77.8eac3b46.js"><link rel="prefetch" href="/assets/js/78.769cd188.js"><link rel="prefetch" href="/assets/js/79.04d0b03f.js"><link rel="prefetch" href="/assets/js/8.d26583c2.js"><link rel="prefetch" href="/assets/js/80.d4354c64.js"><link rel="prefetch" href="/assets/js/81.2a062926.js"><link rel="prefetch" href="/assets/js/82.9c554d55.js"><link rel="prefetch" href="/assets/js/83.1a996420.js"><link rel="prefetch" href="/assets/js/84.58dc2308.js"><link rel="prefetch" href="/assets/js/85.41604feb.js"><link rel="prefetch" href="/assets/js/86.58307d88.js"><link rel="prefetch" href="/assets/js/87.ade79885.js"><link rel="prefetch" href="/assets/js/88.0707a64a.js"><link rel="prefetch" href="/assets/js/89.223d8f8b.js"><link rel="prefetch" href="/assets/js/9.90b99de1.js"><link rel="prefetch" href="/assets/js/90.05e3620d.js"><link rel="prefetch" href="/assets/js/91.79a4af0b.js"><link rel="prefetch" href="/assets/js/92.36e55166.js"><link rel="prefetch" href="/assets/js/93.6bbda014.js"><link rel="prefetch" href="/assets/js/94.aa23d41e.js"><link rel="prefetch" href="/assets/js/95.f4dc6efd.js"><link rel="prefetch" href="/assets/js/96.36ce736d.js"><link rel="prefetch" href="/assets/js/97.a0c29600.js"><link rel="prefetch" href="/assets/js/98.9583dd8f.js"><link rel="prefetch" href="/assets/js/99.486a0635.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b9bba9f9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/avatar.png" alt="chenglun17 blog" class="logo"> <span class="site-name can-hide">chenglun17 blog </span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  快速了解
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机基础" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cs/DS/" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/cs/OS/" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/cs/CN/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/cs/CO/" class="nav-link">
  计算机组成原理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端基础" class="mobile-dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/troika/html_css_study/" class="nav-link">
  HTML/CSS
</a></li><li class="dropdown-item"><!----> <a href="/troika/js_study/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/troika/WebAPI_Interface/" class="nav-link">
  Web API 接口
</a></li><li class="dropdown-item"><!----> <a href="/troika/various_functions/" class="nav-link">
  各种功能
</a></li><li class="dropdown-item"><!----> <a href="/troika/promise_study/" class="nav-link">
  Promise
</a></li><li class="dropdown-item"><!----> <a href="/troika/ajax_study/" class="nav-link router-link-active">
  Ajax
</a></li><li class="dropdown-item"><!----> <a href="/troika/axios_study/" class="nav-link">
  Axios
</a></li><li class="dropdown-item"><!----> <a href="/troika/webpack_study/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/troika/babel_study/" class="nav-link">
  Babel
</a></li><li class="dropdown-item"><!----> <a href="/troika/TypeScript_Study/" class="nav-link">
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web前端" class="dropdown-title"><span class="title">Web前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web前端" class="mobile-dropdown-title"><span class="title">Web前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frame/vue_study/" class="nav-link">
  Vue2.x
</a></li><li class="dropdown-item"><!----> <a href="/frame/vue3_study/" class="nav-link">
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/frame/VueInterview/" class="nav-link">
  Vue面试相关
</a></li><li class="dropdown-item"><!----> <a href="/frame/react_study/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/frame/Bootstrap_study/" class="nav-link">
  Bootstrap
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他学习" class="dropdown-title"><span class="title">其他学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他学习" class="mobile-dropdown-title"><span class="title">其他学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/others/nodejs_study/" class="nav-link">
  Nodejs
</a></li><li class="dropdown-item"><!----> <a href="/others/git_study/" class="nav-link">
  Git/Tortoisegit
</a></li><li class="dropdown-item"><!----> <a href="/others/regex_study/" class="nav-link">
  正则表达式
</a></li><li class="dropdown-item"><!----> <a href="/others/linux_study/" class="nav-link">
  Linux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="移动端" class="dropdown-title"><span class="title">移动端</span> <span class="arrow down"></span></button> <button type="button" aria-label="移动端" class="mobile-dropdown-title"><span class="title">移动端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mobile/miniprogram_study/" class="nav-link">
  小程序学习
</a></li><li class="dropdown-item"><!----> <a href="/mobile/uni-app_study/" class="nav-link">
  uni-app
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java后端" class="dropdown-title"><span class="title">Java后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java后端" class="mobile-dropdown-title"><span class="title">Java后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/java_core/" class="nav-link">
  Java核心基础
</a></li><li class="dropdown-item"><!----> <a href="/java/sql_study/" class="nav-link">
  SQL/MySQL
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/chenglun17" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  快速了解
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机基础" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cs/DS/" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/cs/OS/" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/cs/CN/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/cs/CO/" class="nav-link">
  计算机组成原理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端基础" class="mobile-dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/troika/html_css_study/" class="nav-link">
  HTML/CSS
</a></li><li class="dropdown-item"><!----> <a href="/troika/js_study/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/troika/WebAPI_Interface/" class="nav-link">
  Web API 接口
</a></li><li class="dropdown-item"><!----> <a href="/troika/various_functions/" class="nav-link">
  各种功能
</a></li><li class="dropdown-item"><!----> <a href="/troika/promise_study/" class="nav-link">
  Promise
</a></li><li class="dropdown-item"><!----> <a href="/troika/ajax_study/" class="nav-link router-link-active">
  Ajax
</a></li><li class="dropdown-item"><!----> <a href="/troika/axios_study/" class="nav-link">
  Axios
</a></li><li class="dropdown-item"><!----> <a href="/troika/webpack_study/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/troika/babel_study/" class="nav-link">
  Babel
</a></li><li class="dropdown-item"><!----> <a href="/troika/TypeScript_Study/" class="nav-link">
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web前端" class="dropdown-title"><span class="title">Web前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web前端" class="mobile-dropdown-title"><span class="title">Web前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frame/vue_study/" class="nav-link">
  Vue2.x
</a></li><li class="dropdown-item"><!----> <a href="/frame/vue3_study/" class="nav-link">
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/frame/VueInterview/" class="nav-link">
  Vue面试相关
</a></li><li class="dropdown-item"><!----> <a href="/frame/react_study/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/frame/Bootstrap_study/" class="nav-link">
  Bootstrap
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他学习" class="dropdown-title"><span class="title">其他学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他学习" class="mobile-dropdown-title"><span class="title">其他学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/others/nodejs_study/" class="nav-link">
  Nodejs
</a></li><li class="dropdown-item"><!----> <a href="/others/git_study/" class="nav-link">
  Git/Tortoisegit
</a></li><li class="dropdown-item"><!----> <a href="/others/regex_study/" class="nav-link">
  正则表达式
</a></li><li class="dropdown-item"><!----> <a href="/others/linux_study/" class="nav-link">
  Linux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="移动端" class="dropdown-title"><span class="title">移动端</span> <span class="arrow down"></span></button> <button type="button" aria-label="移动端" class="mobile-dropdown-title"><span class="title">移动端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mobile/miniprogram_study/" class="nav-link">
  小程序学习
</a></li><li class="dropdown-item"><!----> <a href="/mobile/uni-app_study/" class="nav-link">
  uni-app
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java后端" class="dropdown-title"><span class="title">Java后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java后端" class="mobile-dropdown-title"><span class="title">Java后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/java_core/" class="nav-link">
  Java核心基础
</a></li><li class="dropdown-item"><!----> <a href="/java/sql_study/" class="nav-link">
  SQL/MySQL
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/chenglun17" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/troika/html_css_study/" class="sidebar-heading clickable"><span>HTML/CSS 学习</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/troika/js_study/" class="sidebar-heading clickable"><span>JavaScript 学习</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/troika/WebAPI_Interface/" class="sidebar-heading clickable"><span>Web API 接口</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/troika/various_functions/" class="sidebar-heading clickable"><span>各种功能实现</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/troika/promise_study/" class="sidebar-heading clickable"><span>Promise 学习</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/troika/ajax_study/" class="sidebar-heading clickable router-link-active open"><span>Ajax 学习</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/troika/ajax_study/NativeAjax.html" class="sidebar-link">一、原生 AJAX</a></li><li><a href="/troika/ajax_study/jQueryAjax.html" class="sidebar-link">二、jQuery 中的AJAX</a></li><li><a href="/troika/ajax_study/Axios.html" class="sidebar-link">三、Axios</a></li><li><a href="/troika/ajax_study/Fetch.html" class="sidebar-link">四、Fetch</a></li><li><a href="/troika/ajax_study/CrossDomain.html" aria-current="page" class="active sidebar-link">五、跨域问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/troika/ajax_study/CrossDomain.html#什么是跨域" class="sidebar-link">⭐️什么是跨域</a></li><li class="sidebar-sub-header"><a href="/troika/ajax_study/CrossDomain.html#如何解决跨域" class="sidebar-link">⭐️如何解决跨域</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/troika/ajax_study/CrossDomain.html#_1-jsonp" class="sidebar-link">1.JSONP</a></li><li class="sidebar-sub-header"><a href="/troika/ajax_study/CrossDomain.html#_2-cors" class="sidebar-link">2.CORS</a></li><li class="sidebar-sub-header"><a href="/troika/ajax_study/CrossDomain.html#_3-代理服务器" class="sidebar-link">3.代理服务器</a></li><li class="sidebar-sub-header"><a href="/troika/ajax_study/CrossDomain.html#_4-nodejs-中间代理跨域" class="sidebar-link">4.NodeJs 中间代理跨域</a></li><li class="sidebar-sub-header"><a href="/troika/ajax_study/CrossDomain.html#_5-postmessage-跨域" class="sidebar-link">5.postMessage 跨域</a></li><li class="sidebar-sub-header"><a href="/troika/ajax_study/CrossDomain.html#_6-websocket-跨域" class="sidebar-link">6.WebSocket 跨域</a></li></ul></li><li class="sidebar-sub-header"><a href="/troika/ajax_study/CrossDomain.html#总结" class="sidebar-link">⭐️总结</a></li><li class="sidebar-sub-header"><a href="/troika/ajax_study/CrossDomain.html#参考" class="sidebar-link">📄参考</a></li></ul></li><li><a href="/troika/ajax_study/Difference.html" class="sidebar-link">Ajax、Axios、Fetch 区别</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/troika/axios_study/" class="sidebar-heading clickable"><span>Axios 学习</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/troika/webpack_study/" class="sidebar-heading clickable"><span>Webpack 学习</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/troika/babel_study/" class="sidebar-heading clickable"><span>Babel 学习</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/troika/TypeScript_Study/" class="sidebar-heading clickable"><span>TypeScript 学习</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="五、跨域问题"><a href="#五、跨域问题" class="header-anchor">#</a> 五、跨域问题</h1> <h2 id="什么是跨域"><a href="#什么是跨域" class="header-anchor">#</a> ⭐️什么是跨域</h2> <p><strong style="color:#DD5145;">跨域本质是浏览器基于同源策略的一种安全手段。</strong></p> <p>跨域就是当在页面上发送ajax请求时，由于浏览器同源策略的限制，要求当前页面和服务端必须同源，否则浏览器视为跨域，进行拦截。</p> <p><strong>同源策略（Same-Origin Policy）</strong> 是浏览器的一种安全策略，可以防止某些恶意行为：</p> <ul><li>同源：<strong>协议</strong> + <strong>域名</strong> + <strong>端口号</strong> 必须完全相同，这三者是确定站点的唯一标识符</li> <li>跨域：三者之间任意一个与当前页面 url 不同即为跨域，违背同源策略就是跨域</li></ul> <p><strong>同源策略限制以下几种行为：</strong></p> <ul><li>Cookie、LocalStorage 和 IndexDB 无法读取</li> <li>DOM 和 JS对象无法获得</li> <li>Ajax 请求不能发送</li></ul> <p>一定要注意<strong style="color:#DD5145;">跨域限制是浏览器行为，不是服务器行为</strong>。用抓包工具抓取接口数据，可以看到接口已经把数据返回回来了，只是浏览器的限制，你获取不到数据。</p> <p>用 postman 请求接口能够请求到数据，这些再次印证了跨域是浏览器的限制。</p> <p><code>client</code></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>跨域问题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'http://127.0.0.1:8000/test'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> res<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><img src="/assets/img/image-20230620163412427.6a9785be.png" alt=""></p> <p><code>server.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token constant">HOST</span> <span class="token operator">=</span> <span class="token string">'http://127.0.0.1'</span>
<span class="token keyword">const</span> <span class="token constant">PORT</span> <span class="token operator">=</span> <span class="token string">'8000'</span>
<span class="token keyword">const</span> <span class="token constant">HOSTNAME</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">HOST</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">PORT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/test'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'你好'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token constant">PORT</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">serve is running at </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">HOSTNAME</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="如何解决跨域"><a href="#如何解决跨域" class="header-anchor">#</a> ⭐️如何解决跨域</h2> <p>解决跨域的方法有很多，下面列举了几种：</p> <ul><li>JSONP</li> <li>CORS</li> <li>代理服务器</li> <li>NodeJs 中间代理跨域</li> <li>postMessage 跨域</li> <li>WebSocket 跨域</li></ul> <p>而在<code>vue</code>项目中，我们主要针对<code>CORS</code>或<code>Proxy</code>这两种方案进行展开。</p> <h3 id="_1-jsonp"><a href="#_1-jsonp" class="header-anchor">#</a> 1.JSONP</h3> <p><strong>JSONP（JSON with Padding）</strong>，是非官方的跨域解决方案，<strong style="color:#DD5145;">只支持 GET 请求</strong>。</p> <p>有一些标签天生具有跨域能力，比如：img、link、iframe、script。</p> <p>本质利用了<code>script</code>标签<code>src</code>引入外部资源不受浏览器同源策略的限制，然后和后端一起配合来解决跨域问题的。</p> <ul><li>JSONP 和 Ajax 之间没有任何关系，不能把 JSONP 请求数据的方式叫做 Ajax，因为 JSONP 没有用到 XMLHttpRequest 对象。</li> <li>JSONP 的优点就是兼容性好，可以解决主流浏览器的跨域问题，缺点是仅支持GET请求，不安全，可能遭受xss攻击。</li></ul> <p>应用场景：有些第三方数据接口可能会使用JSONP解决跨域问题，工作不经常使用</p> <p><strong>具体实现：</strong> 动态生成script标签，通过src属性进行加载</p> <ol><li>在客户端创建一个<code>script</code>标签，然后把请求后端的接口拼接一个回调函数<code>func</code>名称作为参数传递给后端</li> <li>当后端接收到客户端的请求时，会解析得到回调函数名称，然后把数据和回调函数名称拼接成函数调用的形式返回</li> <li>客户端解析后会调用定义好的回调函数，然后在回调函数中就可以获取到后端返回的数据了。</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>跨域问题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://127.0.0.1:8000/test?callback=func<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><img src="data:image/png;base64,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" alt=""></p> <p><code>node.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token constant">HOST</span> <span class="token operator">=</span> <span class="token string">'http://127.0.0.1'</span>
<span class="token keyword">const</span> <span class="token constant">PORT</span> <span class="token operator">=</span> <span class="token string">'8000'</span>
<span class="token keyword">const</span> <span class="token constant">HOSTNAME</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">HOST</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">PORT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/test'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取客户端传来的回调函数名称</span>
    <span class="token keyword">const</span> funcName <span class="token operator">=</span> req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>callback
    <span class="token comment">// 模拟返回数据</span>
    <span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token string">'你好'</span>
    <span class="token comment">// 把数据和回调函数名称拼接成函数调用的方式返回</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>funcName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">('</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>msg<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">')</span><span class="token template-punctuation string">`</span></span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token constant">PORT</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">serve is running at </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">HOSTNAME</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_2-cors"><a href="#_2-cors" class="header-anchor">#</a> 2.CORS</h3> <p><strong><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS" target="_blank" rel="noopener noreferrer">CORS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>（Cross-Origin Resource Sharing，跨域资源共享）</strong> 是官方的跨域解决方案，它的特点是不需要在客户端做任何特殊的操作，完全在服务器中进行处理，<strong style="color:#DD5145;">同时支持 GET 和 POST 请求</strong>。</p> <p>CORS 是通过设置一个响应头来告诉浏览器，该请求允许跨域，浏览器收到该响应以后就会对响应放行。</p> <p>以nodejs为例，在服务器 server.js 文件中配置：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token constant">HOST</span> <span class="token operator">=</span> <span class="token string">'http://127.0.0.1'</span>
<span class="token keyword">const</span> <span class="token constant">PORT</span> <span class="token operator">=</span> <span class="token string">'8000'</span>
<span class="token keyword">const</span> <span class="token constant">HOSTNAME</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">HOST</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">PORT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/test'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Origin'</span><span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span> <span class="token comment">// 设置响应头允许跨域</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'你好'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token constant">PORT</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">serve is running at </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">HOSTNAME</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p><code>Access-Control-Allow-Origin</code> 设置为 <strong><code>*</code></strong> 其实意义不大，可以说是形同虚设，实际应用中，上线前我们会将<code>Access-Control-Allow-Origin</code> 值设为我们目标<code>host</code></p></blockquote> <h3 id="_3-代理服务器"><a href="#_3-代理服务器" class="header-anchor">#</a> 3.代理服务器</h3> <p>在日常的项目开发中，解决跨域问题最常使用的方案是使用代理服务器</p> <blockquote><p><strong>什么是代理？</strong></p> <ul><li>常规 ：A客户端 向 B服务器 请求</li> <li>变成： 代理服务器C收的A的请求，C请求B返回给 A客户端 （<strong>服务器之间请求不存在跨域</strong>）</li></ul></blockquote> <p>代理服务器解决跨域是利用了<strong>同源策略只受限于浏览器访问服务器，而对于服务器访问服务器并没有限制</strong>的特点，作为中间服务器做了一个请求转发的功能。</p> <p>具体来说，就是当前端网页在浏览器中发起网络请求时，其实这个请求是发送到代理服务器上的，然后代理服务器会将请求转发给目标服务器，再将目标服务器返回的响应转发给客户端。</p> <hr> <p>注意，在<a href="#%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83">开发环境</a>和<a href="#%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83">生产环境</a>中，我们通常会使用不同的方式实现代理。</p> <h4 id="开发环境"><a href="#开发环境" class="header-anchor">#</a> 开发环境</h4> <p>在<code>vue-cli</code>脚手架工具搭建的项目中，可以通过<code>webpack</code>建立一个本地服务器作为请求的代理对象。</p> <p>通过该服务器转发请求至目标服务器，得到结果再转发给前端，但是最终发布上线时如果 Web 应用和接口服务器不在一起仍会跨域。</p> <p>在<code>vue.config.js</code>文件配置：</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">lintOnSave</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 关闭语法检查</span>
    <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// host: '127.0.0.1',</span>
        <span class="token comment">// port: 8080,</span>
        <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// vue项目启动时自动打开浏览器</span>
        <span class="token comment">// 设置代理</span>
        <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// '/api' 是代理标识，用于告诉 node，url 前面是 /api 的就是使用代理的</span>
            <span class="token string-property property">'/api'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'http://xxx.xxx.xx.xx:8080'</span><span class="token punctuation">,</span> <span class="token comment">// 目标地址，一般是指后台服务器地址</span>
                <span class="token literal-property property">ws</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否启用 WebSockets</span>
                <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 开启代理，会在本地创建一个虚拟服务器</span>
                <span class="token comment">// pathRewrite 的作用是把实际 Request Url 中的 '/api' 用 '/' 代替</span>
                <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token string-property property">'^/api'</span><span class="token operator">:</span> <span class="token string">'/'</span> 
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>通过<code>axios</code>发送请求中，配置请求的根路径</p> <div class="language-js extra-class"><pre class="language-js"><code>axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL <span class="token operator">=</span> <span class="token string">'/api'</span>
</code></pre></div><ul><li><code>devServe.proxy</code> 提供的代理功能，仅在开发调试阶段生效</li> <li>项目上线发布时，依旧需要API接口服务器开启 CORS 跨域资源共享</li></ul> <h4 id="生产环境"><a href="#生产环境" class="header-anchor">#</a> 生产环境</h4> <p>在线上环境下，一般会采用 <strong>Nginx</strong> 来做反向代理解决跨域问题，也是利用了服务器请求服务器不受浏览器同源策略的限制实现的。</p> <p>通过 Nginx 反向代理解决跨域的<strong>优点</strong>是可以集中管理跨域请求，<strong>缺点</strong>是需要额外的服务器和维护成本。</p> <p>客户端请求 Nginx 服务器，在 nginx.config 配置文件中配置server监听客户端的请求，然后把 location 匹配的路径代理到真实的服务器，服务器处理请求后返回数据，Nginx 再把数据给客户端返回。</p> <p>大致流程如下：</p> <p><img src="/assets/img/nginx.e53e1381.png" alt=""></p> <p>1.修改 Nginx 的配置文件，在 http 块中添加以下内容：</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">http</span></span> <span class="token punctuation">{</span>
    <span class="token comment"># 允许跨域请求的地址</span>
    <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Allow-Origin'</span> <span class="token string">'*'</span></span><span class="token punctuation">;</span>

    <span class="token comment"># 允许跨域请求的方法</span>
    <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Allow-Methods'</span> <span class="token string">'GET, POST, PUT, DELETE, OPTIONS'</span></span><span class="token punctuation">;</span>

    <span class="token comment"># 允许跨域请求的请求头</span>
    <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Allow-Headers'</span> <span class="token string">'Origin, X-Requested-With, Content-Type, Accept, Authorization'</span></span><span class="token punctuation">;</span>

    <span class="token comment"># 允许跨域请求的请求头中可以携带的信息</span>
    <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Expose-Headers'</span> <span class="token string">'Authorization'</span></span><span class="token punctuation">;</span>

    <span class="token comment"># 允许跨域请求携带 Cookie</span>
    <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Allow-Credentials'</span> <span class="token string">'true'</span></span><span class="token punctuation">;</span>

    ...
<span class="token punctuation">}</span>
</code></pre></div><p>2.在 server 块中添加以下内容：</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server_name</span> example.com</span><span class="token punctuation">;</span>

    <span class="token comment"># 将 /api 转发到 http://api.example.com</span>
    <span class="token directive"><span class="token keyword">location</span> /api</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">proxy_pass</span> http://api.example.com</span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">proxy_set_header</span> Host <span class="token variable">$host</span></span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">proxy_set_header</span> X-Real-IP <span class="token variable">$remote_addr</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这个配置表示将客户端请求的 <strong>/api</strong> 转发到 <strong>http://api.example.com</strong>，并将客户端请求的头信息中的 Host 和 X-Real-IP 添加到后端请求的头信息中。这样就可以通过 Nginx 反向代理解决跨域问题了。</p> <h3 id="_4-nodejs-中间代理跨域"><a href="#_4-nodejs-中间代理跨域" class="header-anchor">#</a> 4.NodeJs 中间代理跨域</h3> <p>因为同源策略是浏览器限制的，所以<strong>服务端请求服务器是不受浏览器同源策略的限制的</strong>，因此我们可以搭建一个自己的node服务器来代理访问服务器。</p> <p>大致流程：我们在客户端请求自己的Node代理服务器，然后在Node代理服务器中转发客户端的请求访问服务器，服务器处理请求后给代理服务器响应数据，然后在代理服务器中把服务器响应的数据再返回给客户端。</p> <p><img src="/assets/img/node.9c561cac.png" alt=""></p> <p>客户端和自己搭建的代理服务器之间也存在跨域问题，所以需要在代理服务器中设置CORS。</p> <p>客户端：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 引入axios发送请求 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/axios/dist/axios.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">// 简单封装一个axios向代理服务器发送请求</span>
    <span class="token keyword">function</span> <span class="token function">proxyAxios</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'http://localhost:8081/proxyApi'</span><span class="token punctuation">,</span> <span class="token comment">// 请求自己搭建的node代理服务器的地址</span>
            <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">'content-type'</span><span class="token operator">:</span> <span class="token string">'application/x-www-form-urlencoded'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            data
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 使用node代理服务器向服务器发送请求</span>
    <span class="token function">proxyAxios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'https://class.imooc.com/getadver'</span><span class="token punctuation">,</span><span class="token comment">// 需要代理访问真实服务器的url</span>
        <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'res:'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Node服务器：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**通过nodeJS搭建自己的代理服务器来解决跨域问题 */</span>
<span class="token keyword">const</span> axios <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'axios'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'body-parser'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 使用第三方插件</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">extended</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// 监听post请求,处理代理接口</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/proxyApi'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>body<span class="token punctuation">}</span> <span class="token operator">=</span> req
    <span class="token comment">// 获取post请求的请求参数</span>
    <span class="token keyword">let</span> reqParams <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> body<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        reqParams <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token comment">// 获取到请求参数</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 设置响应头 </span>
    res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Origin'</span><span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span> <span class="token comment">// 代理服务器设置CORS，允许跨域访问</span>
    res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Methods'</span><span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span> <span class="token comment">// 允许所有的请求方式</span>

    <span class="token keyword">const</span> <span class="token punctuation">{</span>url<span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> <span class="token operator">...</span>resConfig<span class="token punctuation">}</span> <span class="token operator">=</span> reqParams <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token comment">// node代理请求服务器</span>
    <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token punctuation">,</span>
        method<span class="token punctuation">,</span>
        <span class="token operator">...</span>resConfig
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span>status<span class="token punctuation">,</span> headers<span class="token punctuation">,</span> data<span class="token punctuation">}</span> <span class="token operator">=</span> result
        res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span>
        res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'content-type'</span><span class="token punctuation">,</span> headers<span class="token punctuation">[</span><span class="token string">'content-type'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 给客户端返回数据</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 监听请求</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8081</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'服务启动成功，在8081端口监听请求....'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>以<code>express</code>框架为例，利用node + express + http-proxy-middleware搭建一个proxy服务器。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http-proxy-middleware'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span>__dirname <span class="token operator">+</span> <span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/api'</span><span class="token punctuation">,</span> <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 
    <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'http://localhost:4000'</span><span class="token punctuation">,</span> 
    <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> app
</code></pre></div><p>express有一个自带的中间件cors，它的作用是自动给每一个res设置默认请求头，这样就不用我们自己每一个接口都要设置一次了。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1.下包 </span>
$ npm install cors


<span class="token comment">// 2.配置中间件 </span>
<span class="token keyword">const</span> cors <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'cors'</span><span class="token punctuation">)</span> 
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">cors</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_5-postmessage-跨域"><a href="#_5-postmessage-跨域" class="header-anchor">#</a> 5.postMessage 跨域</h3> <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/postMessage" target="_blank" rel="noopener noreferrer">window.postMessage()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 方法可以安全地实现跨源通信，此方法一种受控机制来规避此限制，只要正确的使用，这种方法就很安全。</p> <p>主要的用途是实现多窗口，多文档之间通信：</p> <ul><li>页面和其打开的新窗口的数据传递</li> <li>多窗口之间消息传递</li> <li>页面与嵌套的 iframe 消息传递</li></ul> <h3 id="_6-websocket-跨域"><a href="#_6-websocket-跨域" class="header-anchor">#</a> 6.WebSocket 跨域</h3> <p>使用 Websocket 也可以解决跨域问题，因为 WebSocket 本身不存在跨域问题，所以可以利用 WebSocket 来进行非同源之间的通信。</p> <p>WebSocket 规范定义了一个在 Web 浏览器和服务器之间建立“套接字”连接的 API。 简单来说：客户端和服务器之间存在持久连接，双方可以随时开始发送数据。</p> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> ⭐️总结</h2> <ul><li>jsonp的原理是利用了script标签不受浏览器同源策略的限制，img和link标签也是不受浏览器同源策略限制的。</li> <li>跨域是浏览器限制，服务端和服务端之间通信是不受浏览器同源策略限制的。</li> <li>所有跨域的解决方案都是需要服务端配合的。</li> <li>最常用的跨域解决方案是CORS、Node代理服务器和Nginx反向代理方式。</li> <li>postMessage更多的是用在多个文档，窗口之间发送数据。</li> <li></li></ul> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 📄参考</h2> <p><a href="https://vue3js.cn/interview/vue/cors.html" target="_blank" rel="noopener noreferrer">参考文章<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://blog.csdn.net/qq_45334976/article/details/125113481" target="_blank" rel="noopener noreferrer">参考文章2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://blog.csdn.net/qq_52822043/article/details/124438656" target="_blank" rel="noopener noreferrer">参考文章3<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://blog.csdn.net/m0_37873510/article/details/126558023" target="_blank" rel="noopener noreferrer">参考文章<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://blog.csdn.net/qq_42691298/article/details/129767095" target="_blank" rel="noopener noreferrer">参考文章<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/27/2023, 8:31:57 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/troika/ajax_study/Fetch.html" class="prev">
        四、Fetch
      </a></span> <span class="next"><a href="/troika/ajax_study/Difference.html">
        Ajax、Axios、Fetch 区别
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.8d193749.js" defer></script><script src="/assets/js/3.892b1170.js" defer></script><script src="/assets/js/22.aa8bcf26.js" defer></script>
  </body>
</html>
