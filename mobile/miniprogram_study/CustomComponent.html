<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>自定义组件 | chenglun17 blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/images/favicon.ico">
    <meta name="description" content="学习学习在学习">
    
    <link rel="preload" href="/assets/css/0.styles.b9bba9f9.css" as="style"><link rel="preload" href="/assets/js/app.8d193749.js" as="script"><link rel="preload" href="/assets/js/3.892b1170.js" as="script"><link rel="preload" href="/assets/js/113.dedc4732.js" as="script"><link rel="prefetch" href="/assets/js/10.4a68515e.js"><link rel="prefetch" href="/assets/js/100.d555558e.js"><link rel="prefetch" href="/assets/js/101.3ead7240.js"><link rel="prefetch" href="/assets/js/102.e039e6b6.js"><link rel="prefetch" href="/assets/js/103.5364bae0.js"><link rel="prefetch" href="/assets/js/104.b94bb013.js"><link rel="prefetch" href="/assets/js/105.1f6b6c35.js"><link rel="prefetch" href="/assets/js/106.e6d1cb8e.js"><link rel="prefetch" href="/assets/js/107.25a2d7a1.js"><link rel="prefetch" href="/assets/js/108.94bbceee.js"><link rel="prefetch" href="/assets/js/109.10a4c3da.js"><link rel="prefetch" href="/assets/js/11.d6c61798.js"><link rel="prefetch" href="/assets/js/110.14115edc.js"><link rel="prefetch" href="/assets/js/111.d5353052.js"><link rel="prefetch" href="/assets/js/112.4cc7c29d.js"><link rel="prefetch" href="/assets/js/114.134629d6.js"><link rel="prefetch" href="/assets/js/115.c7a86835.js"><link rel="prefetch" href="/assets/js/116.654f0da2.js"><link rel="prefetch" href="/assets/js/117.f3421fbc.js"><link rel="prefetch" href="/assets/js/118.4ef936b7.js"><link rel="prefetch" href="/assets/js/119.26fa552f.js"><link rel="prefetch" href="/assets/js/12.68ad377d.js"><link rel="prefetch" href="/assets/js/120.d1d797fa.js"><link rel="prefetch" href="/assets/js/121.78538e11.js"><link rel="prefetch" href="/assets/js/122.aa6a606e.js"><link rel="prefetch" href="/assets/js/123.4bddb251.js"><link rel="prefetch" href="/assets/js/124.f313e78b.js"><link rel="prefetch" href="/assets/js/125.32a7fbe4.js"><link rel="prefetch" href="/assets/js/126.c9ef1a0b.js"><link rel="prefetch" href="/assets/js/127.929ffe87.js"><link rel="prefetch" href="/assets/js/128.9f811cda.js"><link rel="prefetch" href="/assets/js/129.b1fabf66.js"><link rel="prefetch" href="/assets/js/13.8a4d1f28.js"><link rel="prefetch" href="/assets/js/130.e6cba4c8.js"><link rel="prefetch" href="/assets/js/131.41028247.js"><link rel="prefetch" href="/assets/js/132.959f7b31.js"><link rel="prefetch" href="/assets/js/133.bba663cd.js"><link rel="prefetch" href="/assets/js/134.4d028e55.js"><link rel="prefetch" href="/assets/js/135.95fdd070.js"><link rel="prefetch" href="/assets/js/136.2ff16aba.js"><link rel="prefetch" href="/assets/js/137.416ec285.js"><link rel="prefetch" href="/assets/js/138.ee5fc6d7.js"><link rel="prefetch" href="/assets/js/139.1854635a.js"><link rel="prefetch" href="/assets/js/14.721fab7a.js"><link rel="prefetch" href="/assets/js/140.70e1a07f.js"><link rel="prefetch" href="/assets/js/141.6df3e62f.js"><link rel="prefetch" href="/assets/js/142.69fdea5f.js"><link rel="prefetch" href="/assets/js/143.f0e21068.js"><link rel="prefetch" href="/assets/js/144.22396727.js"><link rel="prefetch" href="/assets/js/145.27be6a81.js"><link rel="prefetch" href="/assets/js/146.b52f4bea.js"><link rel="prefetch" href="/assets/js/147.735b2524.js"><link rel="prefetch" href="/assets/js/148.a5b3fbdc.js"><link rel="prefetch" href="/assets/js/149.e9db9554.js"><link rel="prefetch" href="/assets/js/15.df1979d9.js"><link rel="prefetch" href="/assets/js/150.c969aca7.js"><link rel="prefetch" href="/assets/js/151.aa1e6973.js"><link rel="prefetch" href="/assets/js/152.6b4a27ec.js"><link rel="prefetch" href="/assets/js/153.15a4d8cd.js"><link rel="prefetch" href="/assets/js/154.f9802bcb.js"><link rel="prefetch" href="/assets/js/155.4d830467.js"><link rel="prefetch" href="/assets/js/156.9a763f32.js"><link rel="prefetch" href="/assets/js/157.51a1e1b4.js"><link rel="prefetch" href="/assets/js/158.b51f4f52.js"><link rel="prefetch" href="/assets/js/159.e9af00c3.js"><link rel="prefetch" href="/assets/js/16.76b0d7e7.js"><link rel="prefetch" href="/assets/js/160.12649a05.js"><link rel="prefetch" href="/assets/js/161.3b1d9e13.js"><link rel="prefetch" href="/assets/js/162.02b8acc7.js"><link rel="prefetch" href="/assets/js/163.0d7b5618.js"><link rel="prefetch" href="/assets/js/164.5a94c95f.js"><link rel="prefetch" href="/assets/js/165.cf444ffe.js"><link rel="prefetch" href="/assets/js/166.f2a3eda1.js"><link rel="prefetch" href="/assets/js/167.949bacd4.js"><link rel="prefetch" href="/assets/js/168.c275a7f5.js"><link rel="prefetch" href="/assets/js/169.28f044b3.js"><link rel="prefetch" href="/assets/js/17.1189e359.js"><link rel="prefetch" href="/assets/js/170.3599f6e9.js"><link rel="prefetch" href="/assets/js/171.2a964ddc.js"><link rel="prefetch" href="/assets/js/172.4c745fd8.js"><link rel="prefetch" href="/assets/js/18.25ce29ef.js"><link rel="prefetch" href="/assets/js/19.39873d5d.js"><link rel="prefetch" href="/assets/js/2.ac34b83d.js"><link rel="prefetch" href="/assets/js/20.ac0c5572.js"><link rel="prefetch" href="/assets/js/21.e09a5317.js"><link rel="prefetch" href="/assets/js/22.aa8bcf26.js"><link rel="prefetch" href="/assets/js/23.f609a431.js"><link rel="prefetch" href="/assets/js/24.1e76b423.js"><link rel="prefetch" href="/assets/js/25.f90a175c.js"><link rel="prefetch" href="/assets/js/26.24d63652.js"><link rel="prefetch" href="/assets/js/27.69354912.js"><link rel="prefetch" href="/assets/js/28.7a6097d6.js"><link rel="prefetch" href="/assets/js/29.bf24677e.js"><link rel="prefetch" href="/assets/js/30.dd85d982.js"><link rel="prefetch" href="/assets/js/31.6992beb2.js"><link rel="prefetch" href="/assets/js/32.694c4982.js"><link rel="prefetch" href="/assets/js/33.03a1e3c3.js"><link rel="prefetch" href="/assets/js/34.ed95eeed.js"><link rel="prefetch" href="/assets/js/35.4189a503.js"><link rel="prefetch" href="/assets/js/36.5052fb9e.js"><link rel="prefetch" href="/assets/js/37.f246e8b1.js"><link rel="prefetch" href="/assets/js/38.a14a8bc1.js"><link rel="prefetch" href="/assets/js/39.23f4f352.js"><link rel="prefetch" href="/assets/js/4.9cf8d126.js"><link rel="prefetch" href="/assets/js/40.06d26080.js"><link rel="prefetch" href="/assets/js/41.5b71d3c6.js"><link rel="prefetch" href="/assets/js/42.a99421c0.js"><link rel="prefetch" href="/assets/js/43.5c63ca4e.js"><link rel="prefetch" href="/assets/js/44.a46dba7e.js"><link rel="prefetch" href="/assets/js/45.c59bc6d6.js"><link rel="prefetch" href="/assets/js/46.33453990.js"><link rel="prefetch" href="/assets/js/47.677a33f0.js"><link rel="prefetch" href="/assets/js/48.82059c13.js"><link rel="prefetch" href="/assets/js/49.48757b78.js"><link rel="prefetch" href="/assets/js/5.780300d6.js"><link rel="prefetch" href="/assets/js/50.1c23084c.js"><link rel="prefetch" href="/assets/js/51.b5491672.js"><link rel="prefetch" href="/assets/js/52.705a81d9.js"><link rel="prefetch" href="/assets/js/53.1d0d80f1.js"><link rel="prefetch" href="/assets/js/54.f6d77716.js"><link rel="prefetch" href="/assets/js/55.188b914f.js"><link rel="prefetch" href="/assets/js/56.9cb7278d.js"><link rel="prefetch" href="/assets/js/57.58b195a2.js"><link rel="prefetch" href="/assets/js/58.8cfd1c82.js"><link rel="prefetch" href="/assets/js/59.ba381b91.js"><link rel="prefetch" href="/assets/js/6.b844bad1.js"><link rel="prefetch" href="/assets/js/60.8d51a548.js"><link rel="prefetch" href="/assets/js/61.63ecb30b.js"><link rel="prefetch" href="/assets/js/62.89033979.js"><link rel="prefetch" href="/assets/js/63.c002965f.js"><link rel="prefetch" href="/assets/js/64.5dbf32e4.js"><link rel="prefetch" href="/assets/js/65.75753967.js"><link rel="prefetch" href="/assets/js/66.23f1b0b2.js"><link rel="prefetch" href="/assets/js/67.630add84.js"><link rel="prefetch" href="/assets/js/68.cfa7feb2.js"><link rel="prefetch" href="/assets/js/69.ca7c09c5.js"><link rel="prefetch" href="/assets/js/7.adea7b4a.js"><link rel="prefetch" href="/assets/js/70.4d66e7c7.js"><link rel="prefetch" href="/assets/js/71.b673f927.js"><link rel="prefetch" href="/assets/js/72.3706c1a9.js"><link rel="prefetch" href="/assets/js/73.cc781978.js"><link rel="prefetch" href="/assets/js/74.777a979f.js"><link rel="prefetch" href="/assets/js/75.6ea555de.js"><link rel="prefetch" href="/assets/js/76.1ec82a3f.js"><link rel="prefetch" href="/assets/js/77.8eac3b46.js"><link rel="prefetch" href="/assets/js/78.769cd188.js"><link rel="prefetch" href="/assets/js/79.04d0b03f.js"><link rel="prefetch" href="/assets/js/8.d26583c2.js"><link rel="prefetch" href="/assets/js/80.d4354c64.js"><link rel="prefetch" href="/assets/js/81.2a062926.js"><link rel="prefetch" href="/assets/js/82.9c554d55.js"><link rel="prefetch" href="/assets/js/83.1a996420.js"><link rel="prefetch" href="/assets/js/84.58dc2308.js"><link rel="prefetch" href="/assets/js/85.41604feb.js"><link rel="prefetch" href="/assets/js/86.58307d88.js"><link rel="prefetch" href="/assets/js/87.ade79885.js"><link rel="prefetch" href="/assets/js/88.0707a64a.js"><link rel="prefetch" href="/assets/js/89.223d8f8b.js"><link rel="prefetch" href="/assets/js/9.90b99de1.js"><link rel="prefetch" href="/assets/js/90.05e3620d.js"><link rel="prefetch" href="/assets/js/91.79a4af0b.js"><link rel="prefetch" href="/assets/js/92.36e55166.js"><link rel="prefetch" href="/assets/js/93.6bbda014.js"><link rel="prefetch" href="/assets/js/94.aa23d41e.js"><link rel="prefetch" href="/assets/js/95.f4dc6efd.js"><link rel="prefetch" href="/assets/js/96.36ce736d.js"><link rel="prefetch" href="/assets/js/97.a0c29600.js"><link rel="prefetch" href="/assets/js/98.9583dd8f.js"><link rel="prefetch" href="/assets/js/99.486a0635.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b9bba9f9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/avatar.png" alt="chenglun17 blog" class="logo"> <span class="site-name can-hide">chenglun17 blog </span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  快速了解
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机基础" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cs/DS/" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/cs/OS/" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/cs/CN/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/cs/CO/" class="nav-link">
  计算机组成原理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端基础" class="mobile-dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/troika/html_css_study/" class="nav-link">
  HTML/CSS
</a></li><li class="dropdown-item"><!----> <a href="/troika/js_study/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/troika/WebAPI_Interface/" class="nav-link">
  Web API 接口
</a></li><li class="dropdown-item"><!----> <a href="/troika/various_functions/" class="nav-link">
  各种功能
</a></li><li class="dropdown-item"><!----> <a href="/troika/promise_study/" class="nav-link">
  Promise
</a></li><li class="dropdown-item"><!----> <a href="/troika/ajax_study/" class="nav-link">
  Ajax
</a></li><li class="dropdown-item"><!----> <a href="/troika/axios_study/" class="nav-link">
  Axios
</a></li><li class="dropdown-item"><!----> <a href="/troika/webpack_study/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/troika/babel_study/" class="nav-link">
  Babel
</a></li><li class="dropdown-item"><!----> <a href="/troika/TypeScript_Study/" class="nav-link">
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web前端" class="dropdown-title"><span class="title">Web前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web前端" class="mobile-dropdown-title"><span class="title">Web前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frame/vue_study/" class="nav-link">
  Vue2.x
</a></li><li class="dropdown-item"><!----> <a href="/frame/vue3_study/" class="nav-link">
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/frame/VueInterview/" class="nav-link">
  Vue面试相关
</a></li><li class="dropdown-item"><!----> <a href="/frame/react_study/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/frame/Bootstrap_study/" class="nav-link">
  Bootstrap
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他学习" class="dropdown-title"><span class="title">其他学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他学习" class="mobile-dropdown-title"><span class="title">其他学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/others/nodejs_study/" class="nav-link">
  Nodejs
</a></li><li class="dropdown-item"><!----> <a href="/others/git_study/" class="nav-link">
  Git/Tortoisegit
</a></li><li class="dropdown-item"><!----> <a href="/others/regex_study/" class="nav-link">
  正则表达式
</a></li><li class="dropdown-item"><!----> <a href="/others/linux_study/" class="nav-link">
  Linux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="移动端" class="dropdown-title"><span class="title">移动端</span> <span class="arrow down"></span></button> <button type="button" aria-label="移动端" class="mobile-dropdown-title"><span class="title">移动端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mobile/miniprogram_study/" class="nav-link router-link-active">
  小程序学习
</a></li><li class="dropdown-item"><!----> <a href="/mobile/uni-app_study/" class="nav-link">
  uni-app
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java后端" class="dropdown-title"><span class="title">Java后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java后端" class="mobile-dropdown-title"><span class="title">Java后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/java_core/" class="nav-link">
  Java核心基础
</a></li><li class="dropdown-item"><!----> <a href="/java/sql_study/" class="nav-link">
  SQL/MySQL
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/chenglun17" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  快速了解
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机基础" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cs/DS/" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/cs/OS/" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/cs/CN/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/cs/CO/" class="nav-link">
  计算机组成原理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端基础" class="mobile-dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/troika/html_css_study/" class="nav-link">
  HTML/CSS
</a></li><li class="dropdown-item"><!----> <a href="/troika/js_study/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/troika/WebAPI_Interface/" class="nav-link">
  Web API 接口
</a></li><li class="dropdown-item"><!----> <a href="/troika/various_functions/" class="nav-link">
  各种功能
</a></li><li class="dropdown-item"><!----> <a href="/troika/promise_study/" class="nav-link">
  Promise
</a></li><li class="dropdown-item"><!----> <a href="/troika/ajax_study/" class="nav-link">
  Ajax
</a></li><li class="dropdown-item"><!----> <a href="/troika/axios_study/" class="nav-link">
  Axios
</a></li><li class="dropdown-item"><!----> <a href="/troika/webpack_study/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/troika/babel_study/" class="nav-link">
  Babel
</a></li><li class="dropdown-item"><!----> <a href="/troika/TypeScript_Study/" class="nav-link">
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web前端" class="dropdown-title"><span class="title">Web前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web前端" class="mobile-dropdown-title"><span class="title">Web前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frame/vue_study/" class="nav-link">
  Vue2.x
</a></li><li class="dropdown-item"><!----> <a href="/frame/vue3_study/" class="nav-link">
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/frame/VueInterview/" class="nav-link">
  Vue面试相关
</a></li><li class="dropdown-item"><!----> <a href="/frame/react_study/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/frame/Bootstrap_study/" class="nav-link">
  Bootstrap
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他学习" class="dropdown-title"><span class="title">其他学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他学习" class="mobile-dropdown-title"><span class="title">其他学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/others/nodejs_study/" class="nav-link">
  Nodejs
</a></li><li class="dropdown-item"><!----> <a href="/others/git_study/" class="nav-link">
  Git/Tortoisegit
</a></li><li class="dropdown-item"><!----> <a href="/others/regex_study/" class="nav-link">
  正则表达式
</a></li><li class="dropdown-item"><!----> <a href="/others/linux_study/" class="nav-link">
  Linux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="移动端" class="dropdown-title"><span class="title">移动端</span> <span class="arrow down"></span></button> <button type="button" aria-label="移动端" class="mobile-dropdown-title"><span class="title">移动端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mobile/miniprogram_study/" class="nav-link router-link-active">
  小程序学习
</a></li><li class="dropdown-item"><!----> <a href="/mobile/uni-app_study/" class="nav-link">
  uni-app
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java后端" class="dropdown-title"><span class="title">Java后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java后端" class="mobile-dropdown-title"><span class="title">Java后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/java_core/" class="nav-link">
  Java核心基础
</a></li><li class="dropdown-item"><!----> <a href="/java/sql_study/" class="nav-link">
  SQL/MySQL
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/chenglun17" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/mobile/miniprogram_study/" class="sidebar-heading clickable router-link-active open"><span>小程序学习</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/mobile/miniprogram_study/Base.html" class="sidebar-link">微信小程序基础</a></li><li><a href="/mobile/miniprogram_study/TemplatesAndConfiguration.html" class="sidebar-link">模板与配置</a></li><li><a href="/mobile/miniprogram_study/ViewAndLogic.html" class="sidebar-link">视图与逻辑</a></li><li><a href="/mobile/miniprogram_study/Senior.html" class="sidebar-link">微信小程序进阶</a></li><li><a href="/mobile/miniprogram_study/CustomComponent.html" aria-current="page" class="active sidebar-link">自定义组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#组件的创建与引用" class="sidebar-link">组件的创建与引用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_1-创建组件" class="sidebar-link">1.创建组件</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_2-引用组件" class="sidebar-link">2.引用组件</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_3-局部引用组件" class="sidebar-link">3.局部引用组件</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_4-全局引用组件" class="sidebar-link">4.全局引用组件</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_5-全局引用和局部引用" class="sidebar-link">5.全局引用和局部引用</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_6-组件和页面的区别" class="sidebar-link">6.组件和页面的区别</a></li></ul></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#样式" class="sidebar-link">样式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_1-组件样式隔离" class="sidebar-link">1.组件样式隔离</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_2-组件样式隔离的注意点" class="sidebar-link">2.组件样式隔离的注意点</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_3-修改组件的样式隔离选项" class="sidebar-link">3.修改组件的样式隔离选项</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_4-styleisolation-的可选值" class="sidebar-link">4.styleIsolation 的可选值</a></li></ul></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#数据、方法和属性" class="sidebar-link">数据、方法和属性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_1-data-数据" class="sidebar-link">1.data 数据</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_2-methods-方法" class="sidebar-link">2.methods 方法</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_3-properties-属性" class="sidebar-link">3.properties 属性</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_4-data-和-properties-的区别" class="sidebar-link">4.data 和 properties 的区别</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_5-使用-setdata-修改-properties-的值" class="sidebar-link">5.使用 setData 修改 properties 的值</a></li></ul></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#数据监听器" class="sidebar-link">数据监听器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_1-什么是数据监听器" class="sidebar-link">1.什么是数据监听器</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_2-数据监听器的基本用法" class="sidebar-link">2.数据监听器的基本用法</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_3-监听对象属性的变化" class="sidebar-link">3.监听对象属性的变化</a></li></ul></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#纯数据字段" class="sidebar-link">纯数据字段</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_1-什么是纯数据字段" class="sidebar-link">1.什么是纯数据字段</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_2-使用规则" class="sidebar-link">2.使用规则</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_3-使用纯数据字段改造数据监听器案例" class="sidebar-link">3.使用纯数据字段改造数据监听器案例</a></li></ul></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#组件的生命周期" class="sidebar-link">组件的生命周期</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_1-组件全部的生命周期函数" class="sidebar-link">1.组件全部的生命周期函数</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_2-组件主要生命周期函数" class="sidebar-link">2.组件主要生命周期函数</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_3-lifetimes-节点" class="sidebar-link">3.lifetimes 节点</a></li></ul></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#组件所在页面的生命周期" class="sidebar-link">组件所在页面的生命周期</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_1-什么是组件所在页面的生命周期" class="sidebar-link">1. 什么是组件所在页面的生命周期</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_2-pagelifetimes-节点" class="sidebar-link">2.pageLifetimes 节点</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_3-生成随机-rgb-颜色值" class="sidebar-link">3.生成随机 RGB 颜色值</a></li></ul></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#插槽" class="sidebar-link">插槽</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_1-什么是插槽" class="sidebar-link">1.什么是插槽</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_2-单个插槽" class="sidebar-link">2.单个插槽</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_3-启用多个插槽" class="sidebar-link">3.启用多个插槽</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_4-定义多个插槽" class="sidebar-link">4.定义多个插槽</a></li></ul></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#父子组件之间的通信" class="sidebar-link">父子组件之间的通信</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_1-父子组件之间通信的3种方式" class="sidebar-link">1.父子组件之间通信的3种方式</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_2-属性绑定" class="sidebar-link">2.属性绑定</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_3-事件绑定" class="sidebar-link">3.事件绑定</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_4-获取组件实例" class="sidebar-link">4.获取组件实例</a></li></ul></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#behaviors" class="sidebar-link">behaviors</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_1-什么是-behaviors" class="sidebar-link">1.什么是 behaviors</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_2-behaviors-的工作方式" class="sidebar-link">2.behaviors 的工作方式</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_3-创建-behavior" class="sidebar-link">3..创建 behavior</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_4-导入并使用-behavior" class="sidebar-link">4.导入并使用 behavior</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_5-behavior-中所有可用的节点" class="sidebar-link">5. behavior 中所有可用的节点</a></li><li class="sidebar-sub-header"><a href="/mobile/miniprogram_study/CustomComponent.html#_6-同名字段的覆盖和组合规则" class="sidebar-link">6.同名字段的覆盖和组合规则*</a></li></ul></li></ul></li><li><a href="/mobile/miniprogram_study/MobX.html" class="sidebar-link">全局数据共享</a></li><li><a href="/mobile/miniprogram_study/Subcontract.html" class="sidebar-link">小程序分包</a></li><li><a href="/mobile/miniprogram_study/VantWeapp.html" class="sidebar-link">Vant Weapp</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/mobile/uni-app_study/" class="sidebar-heading clickable"><span>uni-app</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="自定义组件"><a href="#自定义组件" class="header-anchor">#</a> 自定义组件</h1> <h2 id="组件的创建与引用"><a href="#组件的创建与引用" class="header-anchor">#</a> 组件的创建与引用</h2> <h3 id="_1-创建组件"><a href="#_1-创建组件" class="header-anchor">#</a> 1.创建组件</h3> <ol><li>在项目的根目录中，鼠标右键，创建 ==components== -&gt; ==test== 文件夹</li> <li>在新建的 components -&gt; test 文件夹上，鼠标右键，点击 &quot;==新建Component==&quot;</li> <li>键入组件的名称之后回车，会自动生成组件对应的4个文件，后缀名分别为 .js，.json，.wxml，和 .wxss</li></ol> <p>注意：为了保证目录结构的清晰，建议把不同的组件，存放到单独目录中</p> <h3 id="_2-引用组件"><a href="#_2-引用组件" class="header-anchor">#</a> 2.引用组件</h3> <p>组件的引用方式分为：&quot;==局部引用==&quot; 和 &quot;==全局引用==&quot;：</p> <ul><li>局部引用：组件只能在当前被引用的页面内使用</li> <li>全局引用：组件可以在每个小程序页面中使用</li></ul> <h3 id="_3-局部引用组件"><a href="#_3-局部引用组件" class="header-anchor">#</a> 3.局部引用组件</h3> <p>在页面的 .json配置文件中引用组件的方式，叫做 “局部引用”。<em>示例代码如下：</em></p> <div class="language- extra-class"><pre class="language-text"><code>//在页面的 .json 文件中，引用组件
{
	&quot;usingComponents&quot;: {
		&quot;my-test1&quot;:&quot;/components/test1/test1&quot;
	}
}

//在页面的 .wxml 文件中，使用组件
&lt;my-test1&gt;&lt;/my-test1&gt;
</code></pre></div><h3 id="_4-全局引用组件"><a href="#_4-全局引用组件" class="header-anchor">#</a> 4.全局引用组件</h3> <p>在 app.json 全局配置文件中引用组件的方式，叫做 “全局引用”。<em>示例代码如下：</em></p> <div class="language- extra-class"><pre class="language-text"><code>//在 app.json 文件中，引用组件
{
	&quot;pages&quot;: {/*省略不必要的代码*/}
	&quot;window&quot;: {/*省略不必要的代码*/}
	&quot;usingComponents&quot;: {
		&quot;my-test2&quot;:&quot;/components/test2/test2&quot;
	}
}

//在页面的 .wxml 文件中，使用组件
&lt;my-test2&gt;&lt;/my-test2&gt;
</code></pre></div><h3 id="_5-全局引用和局部引用"><a href="#_5-全局引用和局部引用" class="header-anchor">#</a> 5.全局引用和局部引用</h3> <p>根据组件的==使用频率==和==范围==，来选择合适的引用方式：</p> <ul><li><p>如果某组件==在多个页面中经常被用到==，建议进行 &quot;全局引用&quot;</p></li> <li><p>如果某组件==只在特定的页面中被用到==，建议进行 &quot;局部引用&quot;</p></li></ul> <h3 id="_6-组件和页面的区别"><a href="#_6-组件和页面的区别" class="header-anchor">#</a> 6.组件和页面的区别</h3> <p>从表面来看，组件和页面都是由 .js，.json，.wxml，和 .wxss 这个四个文件组成的。但是，组件和页面的 .js与 .json 文件有明显的不同：</p> <ul><li>组件的 .json 文件中需要声明 ==&quot;component&quot;：true== 属性</li> <li>组件的 .js 文件中调用的是 ==Component()== 函数，页面的 .js 文件中调用的是 ==Page()== 函数</li> <li>组件的事件处理函数需要定义到 ==methods节点== 中，页面的 .js 文件中只需要定义到与 ==data节点== 平级</li></ul> <h2 id="样式"><a href="#样式" class="header-anchor">#</a> 样式</h2> <h3 id="_1-组件样式隔离"><a href="#_1-组件样式隔离" class="header-anchor">#</a> 1.组件样式隔离</h3> <p>默认情况下，自定义组件的样式只对当前组件生效，不会影响到组件之外的 UI 结构：</p> <p>好处：</p> <ol><li>防止外界的样式影响组件内部的样式</li> <li>防止组件的样式破坏外界的样式</li></ol> <h3 id="_2-组件样式隔离的注意点"><a href="#_2-组件样式隔离的注意点" class="header-anchor">#</a> 2.组件样式隔离的注意点</h3> <ul><li>app.wxss 中的全局样式对组件无效</li> <li>只有 class 选择器会有样式隔离效果，id选择器、属性选择器、标签选择器不受样式隔离的影响</li></ul> <p>建议：在==组件==和==引用组件的页面==中建议使用 <strong>class 选择器</strong>，==不要使用 id、属性、标签选择器==！</p> <h3 id="_3-修改组件的样式隔离选项"><a href="#_3-修改组件的样式隔离选项" class="header-anchor">#</a> 3.修改组件的样式隔离选项</h3> <p>默认情况下，自定义组件的 ==样式隔离特性== 能够 ==防止组件内外样式相互干扰的问题==。但有时，我们希望在外界能够控制组件内部的样式，此时，可以通过 ==styleIsolation== 修改组件的样式隔离选项，用法如下：</p> <div class="language- extra-class"><pre class="language-text"><code>//在组件的 .js 文件中新增如下配置
Component({
	options: {
		styleIsolation: 'isolated'
	}
})
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>//或在组件的 .json 文件中新增如下配置
{
	&quot;styleIsolation&quot;: &quot;isolated&quot;
}
</code></pre></div><h3 id="_4-styleisolation-的可选值"><a href="#_4-styleisolation-的可选值" class="header-anchor">#</a> 4.styleIsolation 的可选值</h3> <table><thead><tr><th>可选值</th> <th>默认值</th> <th>描述</th></tr></thead> <tbody><tr><td>isolated</td> <td>是</td> <td>表示==启用样式隔离==，在自定义组件内外，使用class指定的样式将==不会相互影响==</td></tr> <tr><td>apply-shared</td> <td>否</td> <td>表示==页面 wxss 样式将影响到自定义组件==，但自定义组件 wxss 中指定的样式不会影响页面</td></tr> <tr><td>==shared==</td> <td>否</td> <td>表示页面 wxss 样式将影响到自定义组件，自定义组件 wxss 中特指的样式也会影响页面和其他设置了 apply-shared 或 shared 的自定义组件</td></tr></tbody></table> <h2 id="数据、方法和属性"><a href="#数据、方法和属性" class="header-anchor">#</a> 数据、方法和属性</h2> <h3 id="_1-data-数据"><a href="#_1-data-数据" class="header-anchor">#</a> 1.data 数据</h3> <p>在小程序组件中，==用于组件模板渲染== 的 ==私有数据==，需要定义到 ==data 节点==中，<em>示例代码如下：</em></p> <div class="language- extra-class"><pre class="language-text"><code>Component({
	data: {
		count: 0
	}
})
</code></pre></div><h3 id="_2-methods-方法"><a href="#_2-methods-方法" class="header-anchor">#</a> 2.methods 方法</h3> <p>在小程序组件中，==事件处理函数== 和 ==自定义方法== 需要定义到 ==methods 节点== 中，<em>示例代码如下：</em></p> <div class="language- extra-class"><pre class="language-text"><code>Component({
	methods: {			//组件的方法列表【包含事件处理函数和自定义方法】
		addCount(){		//事件处理函数
			this.setData({
				count: this.data.count + 1
			})
			this._showCount()	//通过 this 直接调用自定义方法
		},
		
		_showCount(){		//自定义方法建议以 _ 开头
			wx.showToast({
				title: 'count值为：' + this.data.count,
				icon: 'none'
			})
		}
	}
})
</code></pre></div><h3 id="_3-properties-属性"><a href="#_3-properties-属性" class="header-anchor">#</a> 3.properties 属性</h3> <p>在小程序组件中，properties 是组件的对外属性，==用来接收外界传递到组件中的数据==，声明方式有两种，<em>示例代码如下：</em></p> <div class="language- extra-class"><pre class="language-text"><code>//组件的 .js
Component({
	//属性定义
	properties: {
		max: {				//完整定义属性的方式【当需要指定属性默认值时，建议使用此方式】
			type: Number,	//属性值的数据类型
			value: 10		//属性默认值
		},
		
		max: Number			//简化定义属性的方式【不需要指定属性默认值时，可以使用简化方式】
	}
})

//组件的 .wxml
&lt;my-test1 max=&quot;10&quot;&gt;&lt;/my-test1&gt;
</code></pre></div><h3 id="_4-data-和-properties-的区别"><a href="#_4-data-和-properties-的区别" class="header-anchor">#</a> 4.data 和 properties 的区别</h3> <p>在小程序的组件中，properties 属性和 data 数据的用法相同，它们都是==可读可写==的，只不过：</p> <ul><li>data 更倾向于==存储组件的私有数据==</li> <li>properties 更倾向于==存储外界传递到组件的数据==</li></ul> <h3 id="_5-使用-setdata-修改-properties-的值"><a href="#_5-使用-setdata-修改-properties-的值" class="header-anchor">#</a> 5.使用 setData 修改 properties 的值</h3> <p>由于 ==data数据== 和 ==properties 属性== 在本质上没有任何区别，因此 properties 属性的值也可以用于页面渲染，或使用 setData 为 properties 中的属性重新赋值，<em>示例代码如下：</em></p> <div class="language- extra-class"><pre class="language-text"><code>//在组件的 .wxml 文件中使用 properties 属性的值
&lt;view&gt;max属性的值为：{{max}}&lt;/view&gt;

//组件的 .js
Component({
	properties: {max: Number},	//定义属性
	methods: {
		addCount() {
			this.setData({
				max: this.properties.max + 1	//使用 setData修改属性的值
			})
		}
	}
})
</code></pre></div><h2 id="数据监听器"><a href="#数据监听器" class="header-anchor">#</a> 数据监听器</h2> <h3 id="_1-什么是数据监听器"><a href="#_1-什么是数据监听器" class="header-anchor">#</a> 1.什么是数据监听器</h3> <p>数据监听器用于==监听和响应任何属性和数据字段的变化，从而执行特定的操作==。它的作用类似于 vue 中的 watch 侦听器。</p> <p>在小程序组件中，数据监听器的<em>基本语法格式如下：</em></p> <div class="language- extra-class"><pre class="language-text"><code>Component({
	observers: {
		'字段A,字段B': function(字段A的新值,字段B的新值){
			//do something
		}
	}
})
</code></pre></div><h3 id="_2-数据监听器的基本用法"><a href="#_2-数据监听器的基本用法" class="header-anchor">#</a> 2.数据监听器的基本用法</h3> <p><em>组件的 UI 结构如下：</em></p> <div class="language- extra-class"><pre class="language-text"><code>&lt;view&gt;{{n1}} + {{n2}} = {{sum}}&lt;/view&gt;
&lt;button size=&quot;mini&quot; bindtap=&quot;addN1&quot;&gt;n1自增&lt;/button&gt;
&lt;button size=&quot;mini&quot; bindtap=&quot;addN2&quot;&gt;n2自增&lt;/button&gt;
</code></pre></div><p><em>组件的 .js 文件代码如下：</em></p> <div class="language- extra-class"><pre class="language-text"><code>Component({
	data: {n1:0, n2:0, sum:0},	//数据节点
	methods: {		//方法列表
		addN1(){
		this.setData({n1: this.data.n1 + 1})
		},
		addN2(){
		this.setData({n2: this.data.n2 + 2})
		}
	},
	observers: {
		'n1,n2': function(newN1,newN2){			//监听 n1 和 n2 数据的变化，键值对形式
			this.setData({sum: newN1 + newN2})	//通过监听器，自动计算 sum 的值
		}
	}
})
</code></pre></div><h3 id="_3-监听对象属性的变化"><a href="#_3-监听对象属性的变化" class="header-anchor">#</a> 3.监听对象属性的变化</h3> <p>数据监听器支持监听对象中==单个==或==多个属性==的变化，<em>示例语法如下：</em></p> <div class="language- extra-class"><pre class="language-text"><code>Component({
	observers: {
		'对象.属性A,对象.属性B': function(属性A的新值,属性B的新值){
			//触发此监听器的3种情况
			//【为属性A赋值】使用 setData 设置 this.data.对象.属性A 时触发
			//【为属性B赋值】使用 setData 设置 this.data.对象.属性B 时触发
			//【直接为对象赋值】使用 setData 设置 this.data.对象 时触发
			//do something
		}
	}
})
</code></pre></div><h2 id="纯数据字段"><a href="#纯数据字段" class="header-anchor">#</a> 纯数据字段</h2> <h3 id="_1-什么是纯数据字段"><a href="#_1-什么是纯数据字段" class="header-anchor">#</a> 1.什么是纯数据字段</h3> <p>概念：==纯数据字段==指的是那些==只用于业务逻辑的处理==，==不用于界面渲染的data字段==</p> <p>应用场景：例如有些情况下，某些 data 中的字段==既不会展示在页面上，也不会传递给其他组件==，仅仅在当前组件内部使用。带有这种特性的 data 字段适合被设置为纯数据字段</p> <p>好处：纯数据字段==有助于提升页面更新的性能==。</p> <h3 id="_2-使用规则"><a href="#_2-使用规则" class="header-anchor">#</a> 2.使用规则</h3> <p>在 Component 构造器的 options 节点中，指定 ==pureDataPattern== 为一个==正则表达式==，字段名符号这个正则表达式的字段将成为纯数据字段，<em>示例代码如下：</em></p> <div class="language- extra-class"><pre class="language-text"><code>Component({
	options: {
		//指定所有 _ 开头的数据字段为纯数据字段
		pureDataPattern: /^_/
	},
	data: {
		a: true,	//普通数据字段
		_b: true,	//纯数据字段
	}
})
</code></pre></div><h3 id="_3-使用纯数据字段改造数据监听器案例"><a href="#_3-使用纯数据字段改造数据监听器案例" class="header-anchor">#</a> 3.使用纯数据字段改造数据监听器案例</h3> <div class="language- extra-class"><pre class="language-text"><code>Component({
	options: {
		//指定所有 _ 开头的数据字段为纯数据字段
		pureDataPattern: /^_/
	},
	data: {
		//将 rgb 改造为以 _ 开头的纯数据字段
  		_rgb: { 
    		r: 0,
    		g: 0,
    		b: 0
  		},
  		fullColor: '0,0,0' //根据 _rgb 对象的三个属性，动态计算 fullColor 的值
	}
})
</code></pre></div><h2 id="组件的生命周期"><a href="#组件的生命周期" class="header-anchor">#</a> 组件的生命周期</h2> <h3 id="_1-组件全部的生命周期函数"><a href="#_1-组件全部的生命周期函数" class="header-anchor">#</a> 1.组件全部的生命周期函数</h3> <p>小程序组件可用的全部生命周期如下表所示：</p> <table><thead><tr><th>生命周期函数</th> <th>参数</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>create</strong></td> <td>无</td> <td>在组件实例<strong>刚刚被创建时执行</strong></td></tr> <tr><td><strong>attached</strong></td> <td>无</td> <td>在组件实例<strong>进入页面节点树时执行</strong></td></tr> <tr><td>ready</td> <td>无</td> <td>在组件在视图布局完成后执行</td></tr> <tr><td>moved</td> <td>无</td> <td>在组件实例被移动到节点树另一个位置时执行</td></tr> <tr><td><strong>detached</strong></td> <td>无</td> <td>在组件实例<strong>被从页面节点移除时执行</strong></td></tr> <tr><td>error</td> <td>Object Error</td> <td>每当组件方法抛出错误时执行</td></tr></tbody></table> <h3 id="_2-组件主要生命周期函数"><a href="#_2-组件主要生命周期函数" class="header-anchor">#</a> 2.组件主要生命周期函数</h3> <p>在小程序组件中，最重要的生命周期函数有3个，分别是 ==created==，==attached==，==detached==。特点如下：</p> <ol><li>组件实例==刚被创建好==的时候，create的 生命周期函数会被触发
<ul><li>此时还不能调用 setData</li> <li>通常在这个生命周期函数中，只应该用于组件的 this 添加一些自定义的属性字段</li></ul></li> <li>在组件==完全初始化完毕，进入页面节点树后==，attached 生命周期函数会被触发
<ul><li>此时，this.data 已被初始化完毕</li> <li>这个生命周期很有用，绝大多数初始化的工作可以在这个时机进行（例如发起请求获取初始化数据）</li></ul></li> <li>在组件==离开页面节点树后==，detached 生命周期函数会触发
<ul><li>退出一个页面时，会触发页面内每个自定义组件的 detached 生命周期函数</li> <li>此时适合做一些清理性质的工作</li></ul></li></ol> <h3 id="_3-lifetimes-节点"><a href="#_3-lifetimes-节点" class="header-anchor">#</a> 3.lifetimes 节点</h3> <p>在小程序组件中，生命周期函数可以直接定义在 Component 构造器的第一级参数中（和data节点平级），可以在 ==lifetimes 字段== 内进行声明（==这是推荐的方式，其优先级最高==）。<em>示例代码如下：</em></p> <div class="language- extra-class"><pre class="language-text"><code>Component({
	//推荐方法
	lifetimes: {
		attached(){},	//在组件实例进入页面节点树时执行
		detached(){},	//在组件实例从页面节点树移除时执行
	},
	//以下是旧式的定义方法
	attached(){},	//在组件实例进入页面节点树时执行
	detached(){},	//在组件实例从页面节点树移除时执行
})
</code></pre></div><h2 id="组件所在页面的生命周期"><a href="#组件所在页面的生命周期" class="header-anchor">#</a> 组件所在页面的生命周期</h2> <h3 id="_1-什么是组件所在页面的生命周期"><a href="#_1-什么是组件所在页面的生命周期" class="header-anchor">#</a> 1. 什么是组件所在页面的生命周期</h3> <p>有时，==自定义的行为依赖于页面状态的变化==，此时就需要用到 ==组件所在页面的生命周期==。</p> <p>在自定义组件中，组件所在页面的生命周期函数有如下3个，分别是：</p> <table><thead><tr><th>生命周期函数</th> <th>参数</th> <th>描述</th></tr></thead> <tbody><tr><td>show</td> <td>无</td> <td>组件所在的页面<strong>被展示时执行</strong></td></tr> <tr><td>hide</td> <td>无</td> <td>组件所在页面<strong>被隐藏时执行</strong></td></tr> <tr><td>resize</td> <td>Object Size</td> <td>组件所在页面<strong>尺寸变化时执行</strong></td></tr></tbody></table> <h3 id="_2-pagelifetimes-节点"><a href="#_2-pagelifetimes-节点" class="header-anchor">#</a> 2.pageLifetimes 节点</h3> <p>组件所在页面的生命周期函数，需要定义在 ==pageLifetimes 节点== 中，<em>示例代码如下：</em></p> <div class="language- extra-class"><pre class="language-text"><code>Component({
	pageLifetimes:{
		show: function(){},	//页面被展示
		hide: function(){},	//页面被隐藏
		resize: function(size){}//页面尺寸变化
	}
})
</code></pre></div><h3 id="_3-生成随机-rgb-颜色值"><a href="#_3-生成随机-rgb-颜色值" class="header-anchor">#</a> 3.生成随机 RGB 颜色值</h3> <div class="language- extra-class"><pre class="language-text"><code>Component({
	methods: {
	//生成随机 RGB 颜色的方法。非事件处理函数建议以 _ 开头
		_randomColor(){
			this.setData({	//为 data 里面的 _rgb 纯数据字段重新赋值
				_rgb: {
					r: Math.floor(Math.random() * 256),
					g: Math.floor(Math.random() * 256),
					b: Math.floor(Math.random() * 256)
				}
			})
		}
	},
	
	pageLifetimes: {
		//组件所在的页面被展示时，立即调用 _randomColor 生成随机颜色值
		show: function(){
			this._randomColor()
		}
	}
})
</code></pre></div><h2 id="插槽"><a href="#插槽" class="header-anchor">#</a> 插槽</h2> <h3 id="_1-什么是插槽"><a href="#_1-什么是插槽" class="header-anchor">#</a> 1.什么是插槽</h3> <p>在自定义组件的 wxml 结构中，可以提供一个 ==&lt;slot&gt;== 节点（插槽），==用于承担组件使用者提供的 wxml 结构==。</p> <h3 id="_2-单个插槽"><a href="#_2-单个插槽" class="header-anchor">#</a> 2.单个插槽</h3> <p>在小程序中，默认每个自定义组件中只允许使用一个 &lt;slot&gt; 进行占位，这种个数上的限制叫做单个插槽。</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;!-- 组件的封装者 --&gt;
&lt;view class=&quot;wrapper&quot;&gt;
	&lt;view&gt;这里是组件的内部节点&lt;/view&gt;
	&lt;!-- 对于不确定的内容，可以使用 &lt;slot&gt; 进行占位，具体的内容由组件的使用者决定 --&gt;
	&lt;slot&gt;&lt;/slot&gt;
&lt;/view&gt;

&lt;!-- 组件的使用者 --&gt;
&lt;component-tag-name&gt;
	&lt;!-- 这部分内容将被放置在组件 &lt;slot&gt; 的位置上 --&gt;
	&lt;view&gt;这里是插入到组件slot中的内容&lt;/view&gt;
&lt;/component-tag-name&gt;
</code></pre></div><h3 id="_3-启用多个插槽"><a href="#_3-启用多个插槽" class="header-anchor">#</a> 3.启用多个插槽</h3> <p>在小程序的自定义组件中，需要使用多 &lt;slot&gt; 插槽时，可以在组件的 .js 文件中，通过如下方式进行启用。</p> <p><em>示例代码入下：</em></p> <div class="language- extra-class"><pre class="language-text"><code>Component({
	options: {		//与data节点平级
		multipleSlots: true	//在组件定义时的选项中启用多 slot 支持
	},
	properties: { /*...*/ },
	methods: { /*...*/ }
})
</code></pre></div><h3 id="_4-定义多个插槽"><a href="#_4-定义多个插槽" class="header-anchor">#</a> 4.定义多个插槽</h3> <p>可以在组件的 .wxml 中使用多个 &lt;slot&gt; 标签，以不同的 ==name== 来区分不同的插槽。<em>示例代码如下：</em></p> <div class="language- extra-class"><pre class="language-text"><code>&lt;!-- 组件模板 --&gt;
&lt;view class=&quot;wrapper&quot;&gt;
	&lt;!-- name 为 before 的第一个 slot 插槽 --&gt;
	&lt;slot name=&quot;before&quot;&gt;&lt;/slot&gt;
	&lt;view&gt;这是一段固定的文本内容&lt;/view&gt;
	&lt;!-- name 为 after 的第二个 slot 插槽 --&gt;
	&lt;slot name=&quot;after&quot;&gt;&lt;/slot&gt;
&lt;/view&gt;
</code></pre></div><p>在使用==带有多个插槽的自定义组件==时，需要用 ==slot属性==来将节点插入到不同的 &lt;slot&gt; 中。<em>示例代码如下：</em></p> <div class="language- extra-class"><pre class="language-text"><code>&lt;!-- 引用组件的页面模板 --&gt;
&lt;component-tag-name&gt;
	&lt;!-- 这部分内容将被放置在组件 &lt;slot name=&quot;before&quot;&gt; 的位置上 --&gt;
	&lt;view slot name=&quot;before&quot;&gt;这里是插入到组件 slot name=&quot;before&quot; 中的内容&lt;/view&gt;
	&lt;!-- 这部分内容将被放置在组件 &lt;slot name=&quot;before&quot;&gt; 的位置上 --&gt;
	&lt;view slot name=&quot;after&quot;&gt;这里是插入到组件 slot name=&quot;after&quot; 中的内容&lt;/view&gt;
&lt;/component-tag-name&gt;
</code></pre></div><h2 id="父子组件之间的通信"><a href="#父子组件之间的通信" class="header-anchor">#</a> 父子组件之间的通信</h2> <h3 id="_1-父子组件之间通信的3种方式"><a href="#_1-父子组件之间通信的3种方式" class="header-anchor">#</a> 1.父子组件之间通信的3种方式</h3> <ol><li>属性绑定
<ul><li>用于父组件向子组件的指定属性设置数据，==仅能设置 JSON 兼容的数据==</li></ul></li> <li>事件绑定
<ul><li>用于子组件向父组件传递数据，可以传递任意数据</li></ul></li> <li>this.selectComponent( 'id或class选择器' )
<ul><li>父组件还可以通过 this.selectComponent() 获取子组件实例对象</li> <li>这样就可以直接访问子组件的任意数据和方法</li></ul></li></ol> <h3 id="_2-属性绑定"><a href="#_2-属性绑定" class="header-anchor">#</a> 2.属性绑定</h3> <p>==属性绑定==用于实现==父向子传值==，而且==只能传递普通类型的数据==，无法将方法传递给子组件。父组件的<em>示例代码如下：</em></p> <div class="language- extra-class"><pre class="language-text"><code>//父组件的 data 节点
data: {
	count: 0
}

//父组件的 wxml结构
&lt;my-test5 count=&quot;{{count}}&quot;&gt;&lt;/my-test5&gt;
&lt;view&gt;~~~~~~&lt;/view&gt;
&lt;view&gt;父组件中，count值为：{{count}}&lt;/view&gt;
</code></pre></div><p>子组件子 ==properties== 节点中==声明对应的属性并使用==。<em>示例代码如下：</em></p> <div class="language- extra-class"><pre class="language-text"><code>//子组件的 properties 节点
properties: {
	count: Number
}

//子组件的 .wxml 结构
&lt;test&gt;子组件中，count值为：{{count}}&lt;/test&gt;
</code></pre></div><h3 id="_3-事件绑定"><a href="#_3-事件绑定" class="header-anchor">#</a> 3.事件绑定</h3> <p>==事件绑定==用于实现==子向父传值==，可以传递任何类型的数据。<em>使用步骤如下：</em></p> <ol><li>在==父组件==的 .js 中，定义一个函数，这个函数==即将==通过自定义事件的形式，传递给子组件</li> <li>在==父组件==的 .wxml 中，通过==自定义事件==的形式，将步骤 1 中定义的函数引用，传递给子组件</li> <li>在<strong>子组件</strong>的 .js 中，通过调用 ==this.triggerEvent( '自定义事件名称 ', { /*参数对象*/} )==，将数据发送到父组件</li> <li>在==父组件==的 .js 中，通过 ==e.detail== 获取到子组件传递过来的数据</li></ol> <div class="language- extra-class"><pre class="language-text"><code>//在父组件中定义 syncCount 方法
//将来，这个方法会被传递给子组件，供子组件进行调用
syncCount(){
	console.log('syncCount')
}
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>//父组件中的 wxml 结构
&lt;!-- 使用 bind:自定义事件名称(推荐：结构清晰) --&gt;
&lt;my-test5 count=&quot;{{count}}&quot; bind:sync=&quot;syncCount&quot;&gt;&lt;/my-test5&gt;

&lt;!-- 或在 bind 后面直接写上自定义事件名称 --&gt;
&lt;my-test5 count=&quot;{{count}}&quot; bindsync=&quot;syncCount&quot;&gt;&lt;/my-test5&gt;
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>//子组件中的 wxml 结构
&lt;text&gt;子组件中，count值为：{{count}}&lt;/text&gt;
&lt;button type=&quot;primary&quot; bindtap=&quot;addCount&quot;&gt;+1&lt;button&gt;

//子组件中的 js 文件
methods:{
	addCount(){
		this.setData({
			count: this.properties.count + 1
		})
		//触发自定义事件，将数值同步给父组件（触发事件的同时还可以传递参数）
		this.triggerEvent('sync',{value: this.properties.count})
	}
}
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>//父组件中的 js 文件
//传递的参数通过形参 e 接收
syncCount(e){
    // console.log('syncCount')
    // console.log(e)
    // console.log(e.detail.value)
    
	this.setData({
		count: e.detail.value
	})
}
</code></pre></div><h3 id="_4-获取组件实例"><a href="#_4-获取组件实例" class="header-anchor">#</a> 4.获取组件实例</h3> <p>可在父组件里调用 ==this.selectComponent( &quot;id或class选择器&quot; )==，获取子组件的示例对象，从而直接访问子组件的任意数据和方法。调用时需要传入一个==选择器==，例如 this.selectComponent( &quot;.my-component&quot; )。</p> <div class="language- extra-class"><pre class="language-text"><code>//父组件中的 wxml 结构
&lt;my-test5 count=&quot;{{count}}&quot; bind:sync=&quot;syncCount&quot; class=&quot;customA&quot; id=&quot;cA&quot;&gt;&lt;/my-test5&gt;
&lt;button bindtap=&quot;getChild&quot;&gt;获取子组件的实例对象&lt;/button&gt;

//父组件中的 js 文件
//按钮的 tap 事件处理函数
getChild() {
	//切记下面参数不能传递标签选择器 'my-test5'，不然返回的的是null
  const child = this.selectComponent('.customA')	//也可以传递 id选择器 #cA
  child.setData({
    count: child.properties.count + 1
  })			//调用子组件的 setData 方法
  
  child.addCount()		//调用子组件的 addCount 方法
},
</code></pre></div><h2 id="behaviors"><a href="#behaviors" class="header-anchor">#</a> behaviors</h2> <h3 id="_1-什么是-behaviors"><a href="#_1-什么是-behaviors" class="header-anchor">#</a> 1.什么是 behaviors</h3> <p>behaviors 是小程序中，==用于实现组件间代码共享==的特性，类似于 Vue.js 中的 &quot;mixins&quot;。</p> <h3 id="_2-behaviors-的工作方式"><a href="#_2-behaviors-的工作方式" class="header-anchor">#</a> 2.behaviors 的工作方式</h3> <p>每个 behavior 可以包含一组==属性==、==数据==、==生命周期函数== 和 ==方法==。组件引用它时，它的属性、数据和方法==会被合并到组件中==。</p> <p>每个组件可以引用多个 behavior，behavior 也可以引用其它 behavior。</p> <h3 id="_3-创建-behavior"><a href="#_3-创建-behavior" class="header-anchor">#</a> 3..创建 behavior</h3> <p>调用 ==Behavior(Object object)== 方法即可创建一个==共享的 behavior 实例对象==，供所有的组件使用：</p> <div class="language- extra-class"><pre class="language-text"><code>//调用 Behavior() 方法，创建实例对象
//并使用 module.exports 将 behavior 实例对象共享出去
module.exports = Behavior({
	//属性节点
	properties: {},
	//私有数据节点
	data: {username: 'zs'},
	//事件处理函数和自定义方法节点
	methods: {},
	//其他节点...
})
</code></pre></div><h3 id="_4-导入并使用-behavior"><a href="#_4-导入并使用-behavior" class="header-anchor">#</a> 4.导入并使用 behavior</h3> <p>在组件中，使用 ==require()== 方法导入需要的 behavior，==挂载后即可访问 behavior 中的数据或方法==，<em>实例代码如下：</em></p> <div class="language- extra-class"><pre class="language-text"><code>// 1.使用 require() 导入需要的自定义 behavior 模块
const myBehavior = require(&quot;../../behaviors/my-behavior&quot;)

Component({
// 2.将导入的 behavior 实例对象，挂载到 behaviors 组件节点中，即可生效
	behaviors: [myBehavior],
	//组件的其他节点
})

//页面的 wxml 结构
&lt;view&gt;在behavior中定义的用户名是：{{username}}&lt;/view&gt;
</code></pre></div><h3 id="_5-behavior-中所有可用的节点"><a href="#_5-behavior-中所有可用的节点" class="header-anchor">#</a> 5. behavior 中所有可用的节点</h3> <table><thead><tr><th>可用的节点</th> <th>类型</th> <th>是否必填</th> <th>描述</th></tr></thead> <tbody><tr><td>==properties==</td> <td>Object Map</td> <td>否</td> <td>同组件的属性</td></tr> <tr><td>==data==</td> <td>Object</td> <td>否</td> <td>同组件的数据</td></tr> <tr><td>==methods==</td> <td>Object</td> <td>否</td> <td>同自定义组件的方法</td></tr> <tr><td>==behaviors==</td> <td>String Array</td> <td>否</td> <td>引入其它的 behavior</td></tr> <tr><td>created</td> <td>Function</td> <td>否</td> <td>生命周期函数</td></tr> <tr><td>attached</td> <td>Function</td> <td>否</td> <td>生命周期函数</td></tr> <tr><td>ready</td> <td>Function</td> <td>否</td> <td>生命周期函数</td></tr> <tr><td>moved</td> <td>Function</td> <td>否</td> <td>生命周期函数</td></tr> <tr><td>detached</td> <td>Function</td> <td>否</td> <td>生命周期函数</td></tr></tbody></table> <h3 id="_6-同名字段的覆盖和组合规则"><a href="#_6-同名字段的覆盖和组合规则" class="header-anchor">#</a> 6.同名字段的覆盖和组合规则*</h3> <p>组件和它引用的 behavior 中==可以包含同名的字段==，此时可以参考如下 3 种同名时的处理规则：</p> <ol><li>同名的数据字段（data）</li> <li>同名的属性（properties）或方法（methods）</li> <li>同名的生命周期函数</li></ol> <p>详细请参考开发者文档：</p> <p>https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/behaviors.html</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/27/2023, 8:31:57 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/mobile/miniprogram_study/Senior.html" class="prev">
        微信小程序进阶
      </a></span> <span class="next"><a href="/mobile/miniprogram_study/MobX.html">
        全局数据共享
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.8d193749.js" defer></script><script src="/assets/js/3.892b1170.js" defer></script><script src="/assets/js/113.dedc4732.js" defer></script>
  </body>
</html>
