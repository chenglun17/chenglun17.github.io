<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SQL/MySQL 高级 | chenglun17 blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/images/favicon.ico">
    <meta name="description" content="学习学习在学习">
    
    <link rel="preload" href="/assets/css/0.styles.b9bba9f9.css" as="style"><link rel="preload" href="/assets/js/app.8d193749.js" as="script"><link rel="preload" href="/assets/js/3.892b1170.js" as="script"><link rel="preload" href="/assets/js/4.9cf8d126.js" as="script"><link rel="prefetch" href="/assets/js/10.4a68515e.js"><link rel="prefetch" href="/assets/js/100.d555558e.js"><link rel="prefetch" href="/assets/js/101.3ead7240.js"><link rel="prefetch" href="/assets/js/102.e039e6b6.js"><link rel="prefetch" href="/assets/js/103.5364bae0.js"><link rel="prefetch" href="/assets/js/104.b94bb013.js"><link rel="prefetch" href="/assets/js/105.1f6b6c35.js"><link rel="prefetch" href="/assets/js/106.e6d1cb8e.js"><link rel="prefetch" href="/assets/js/107.25a2d7a1.js"><link rel="prefetch" href="/assets/js/108.94bbceee.js"><link rel="prefetch" href="/assets/js/109.10a4c3da.js"><link rel="prefetch" href="/assets/js/11.d6c61798.js"><link rel="prefetch" href="/assets/js/110.14115edc.js"><link rel="prefetch" href="/assets/js/111.d5353052.js"><link rel="prefetch" href="/assets/js/112.4cc7c29d.js"><link rel="prefetch" href="/assets/js/113.dedc4732.js"><link rel="prefetch" href="/assets/js/114.134629d6.js"><link rel="prefetch" href="/assets/js/115.c7a86835.js"><link rel="prefetch" href="/assets/js/116.654f0da2.js"><link rel="prefetch" href="/assets/js/117.f3421fbc.js"><link rel="prefetch" href="/assets/js/118.4ef936b7.js"><link rel="prefetch" href="/assets/js/119.26fa552f.js"><link rel="prefetch" href="/assets/js/12.68ad377d.js"><link rel="prefetch" href="/assets/js/120.d1d797fa.js"><link rel="prefetch" href="/assets/js/121.78538e11.js"><link rel="prefetch" href="/assets/js/122.aa6a606e.js"><link rel="prefetch" href="/assets/js/123.4bddb251.js"><link rel="prefetch" href="/assets/js/124.f313e78b.js"><link rel="prefetch" href="/assets/js/125.32a7fbe4.js"><link rel="prefetch" href="/assets/js/126.c9ef1a0b.js"><link rel="prefetch" href="/assets/js/127.929ffe87.js"><link rel="prefetch" href="/assets/js/128.9f811cda.js"><link rel="prefetch" href="/assets/js/129.b1fabf66.js"><link rel="prefetch" href="/assets/js/13.8a4d1f28.js"><link rel="prefetch" href="/assets/js/130.e6cba4c8.js"><link rel="prefetch" href="/assets/js/131.41028247.js"><link rel="prefetch" href="/assets/js/132.959f7b31.js"><link rel="prefetch" href="/assets/js/133.bba663cd.js"><link rel="prefetch" href="/assets/js/134.4d028e55.js"><link rel="prefetch" href="/assets/js/135.95fdd070.js"><link rel="prefetch" href="/assets/js/136.2ff16aba.js"><link rel="prefetch" href="/assets/js/137.416ec285.js"><link rel="prefetch" href="/assets/js/138.ee5fc6d7.js"><link rel="prefetch" href="/assets/js/139.1854635a.js"><link rel="prefetch" href="/assets/js/14.721fab7a.js"><link rel="prefetch" href="/assets/js/140.70e1a07f.js"><link rel="prefetch" href="/assets/js/141.6df3e62f.js"><link rel="prefetch" href="/assets/js/142.69fdea5f.js"><link rel="prefetch" href="/assets/js/143.f0e21068.js"><link rel="prefetch" href="/assets/js/144.22396727.js"><link rel="prefetch" href="/assets/js/145.27be6a81.js"><link rel="prefetch" href="/assets/js/146.b52f4bea.js"><link rel="prefetch" href="/assets/js/147.735b2524.js"><link rel="prefetch" href="/assets/js/148.a5b3fbdc.js"><link rel="prefetch" href="/assets/js/149.e9db9554.js"><link rel="prefetch" href="/assets/js/15.df1979d9.js"><link rel="prefetch" href="/assets/js/150.c969aca7.js"><link rel="prefetch" href="/assets/js/151.aa1e6973.js"><link rel="prefetch" href="/assets/js/152.6b4a27ec.js"><link rel="prefetch" href="/assets/js/153.15a4d8cd.js"><link rel="prefetch" href="/assets/js/154.f9802bcb.js"><link rel="prefetch" href="/assets/js/155.4d830467.js"><link rel="prefetch" href="/assets/js/156.9a763f32.js"><link rel="prefetch" href="/assets/js/157.51a1e1b4.js"><link rel="prefetch" href="/assets/js/158.b51f4f52.js"><link rel="prefetch" href="/assets/js/159.e9af00c3.js"><link rel="prefetch" href="/assets/js/16.76b0d7e7.js"><link rel="prefetch" href="/assets/js/160.12649a05.js"><link rel="prefetch" href="/assets/js/161.3b1d9e13.js"><link rel="prefetch" href="/assets/js/162.02b8acc7.js"><link rel="prefetch" href="/assets/js/163.0d7b5618.js"><link rel="prefetch" href="/assets/js/164.5a94c95f.js"><link rel="prefetch" href="/assets/js/165.cf444ffe.js"><link rel="prefetch" href="/assets/js/166.f2a3eda1.js"><link rel="prefetch" href="/assets/js/167.949bacd4.js"><link rel="prefetch" href="/assets/js/168.c275a7f5.js"><link rel="prefetch" href="/assets/js/169.28f044b3.js"><link rel="prefetch" href="/assets/js/17.1189e359.js"><link rel="prefetch" href="/assets/js/170.3599f6e9.js"><link rel="prefetch" href="/assets/js/171.2a964ddc.js"><link rel="prefetch" href="/assets/js/172.4c745fd8.js"><link rel="prefetch" href="/assets/js/18.25ce29ef.js"><link rel="prefetch" href="/assets/js/19.39873d5d.js"><link rel="prefetch" href="/assets/js/2.ac34b83d.js"><link rel="prefetch" href="/assets/js/20.ac0c5572.js"><link rel="prefetch" href="/assets/js/21.e09a5317.js"><link rel="prefetch" href="/assets/js/22.aa8bcf26.js"><link rel="prefetch" href="/assets/js/23.f609a431.js"><link rel="prefetch" href="/assets/js/24.1e76b423.js"><link rel="prefetch" href="/assets/js/25.f90a175c.js"><link rel="prefetch" href="/assets/js/26.24d63652.js"><link rel="prefetch" href="/assets/js/27.69354912.js"><link rel="prefetch" href="/assets/js/28.7a6097d6.js"><link rel="prefetch" href="/assets/js/29.bf24677e.js"><link rel="prefetch" href="/assets/js/30.dd85d982.js"><link rel="prefetch" href="/assets/js/31.6992beb2.js"><link rel="prefetch" href="/assets/js/32.694c4982.js"><link rel="prefetch" href="/assets/js/33.03a1e3c3.js"><link rel="prefetch" href="/assets/js/34.ed95eeed.js"><link rel="prefetch" href="/assets/js/35.4189a503.js"><link rel="prefetch" href="/assets/js/36.5052fb9e.js"><link rel="prefetch" href="/assets/js/37.f246e8b1.js"><link rel="prefetch" href="/assets/js/38.a14a8bc1.js"><link rel="prefetch" href="/assets/js/39.23f4f352.js"><link rel="prefetch" href="/assets/js/40.06d26080.js"><link rel="prefetch" href="/assets/js/41.5b71d3c6.js"><link rel="prefetch" href="/assets/js/42.a99421c0.js"><link rel="prefetch" href="/assets/js/43.5c63ca4e.js"><link rel="prefetch" href="/assets/js/44.a46dba7e.js"><link rel="prefetch" href="/assets/js/45.c59bc6d6.js"><link rel="prefetch" href="/assets/js/46.33453990.js"><link rel="prefetch" href="/assets/js/47.677a33f0.js"><link rel="prefetch" href="/assets/js/48.82059c13.js"><link rel="prefetch" href="/assets/js/49.48757b78.js"><link rel="prefetch" href="/assets/js/5.780300d6.js"><link rel="prefetch" href="/assets/js/50.1c23084c.js"><link rel="prefetch" href="/assets/js/51.b5491672.js"><link rel="prefetch" href="/assets/js/52.705a81d9.js"><link rel="prefetch" href="/assets/js/53.1d0d80f1.js"><link rel="prefetch" href="/assets/js/54.f6d77716.js"><link rel="prefetch" href="/assets/js/55.188b914f.js"><link rel="prefetch" href="/assets/js/56.9cb7278d.js"><link rel="prefetch" href="/assets/js/57.58b195a2.js"><link rel="prefetch" href="/assets/js/58.8cfd1c82.js"><link rel="prefetch" href="/assets/js/59.ba381b91.js"><link rel="prefetch" href="/assets/js/6.b844bad1.js"><link rel="prefetch" href="/assets/js/60.8d51a548.js"><link rel="prefetch" href="/assets/js/61.63ecb30b.js"><link rel="prefetch" href="/assets/js/62.89033979.js"><link rel="prefetch" href="/assets/js/63.c002965f.js"><link rel="prefetch" href="/assets/js/64.5dbf32e4.js"><link rel="prefetch" href="/assets/js/65.75753967.js"><link rel="prefetch" href="/assets/js/66.23f1b0b2.js"><link rel="prefetch" href="/assets/js/67.630add84.js"><link rel="prefetch" href="/assets/js/68.cfa7feb2.js"><link rel="prefetch" href="/assets/js/69.ca7c09c5.js"><link rel="prefetch" href="/assets/js/7.adea7b4a.js"><link rel="prefetch" href="/assets/js/70.4d66e7c7.js"><link rel="prefetch" href="/assets/js/71.b673f927.js"><link rel="prefetch" href="/assets/js/72.3706c1a9.js"><link rel="prefetch" href="/assets/js/73.cc781978.js"><link rel="prefetch" href="/assets/js/74.777a979f.js"><link rel="prefetch" href="/assets/js/75.6ea555de.js"><link rel="prefetch" href="/assets/js/76.1ec82a3f.js"><link rel="prefetch" href="/assets/js/77.8eac3b46.js"><link rel="prefetch" href="/assets/js/78.769cd188.js"><link rel="prefetch" href="/assets/js/79.04d0b03f.js"><link rel="prefetch" href="/assets/js/8.d26583c2.js"><link rel="prefetch" href="/assets/js/80.d4354c64.js"><link rel="prefetch" href="/assets/js/81.2a062926.js"><link rel="prefetch" href="/assets/js/82.9c554d55.js"><link rel="prefetch" href="/assets/js/83.1a996420.js"><link rel="prefetch" href="/assets/js/84.58dc2308.js"><link rel="prefetch" href="/assets/js/85.41604feb.js"><link rel="prefetch" href="/assets/js/86.58307d88.js"><link rel="prefetch" href="/assets/js/87.ade79885.js"><link rel="prefetch" href="/assets/js/88.0707a64a.js"><link rel="prefetch" href="/assets/js/89.223d8f8b.js"><link rel="prefetch" href="/assets/js/9.90b99de1.js"><link rel="prefetch" href="/assets/js/90.05e3620d.js"><link rel="prefetch" href="/assets/js/91.79a4af0b.js"><link rel="prefetch" href="/assets/js/92.36e55166.js"><link rel="prefetch" href="/assets/js/93.6bbda014.js"><link rel="prefetch" href="/assets/js/94.aa23d41e.js"><link rel="prefetch" href="/assets/js/95.f4dc6efd.js"><link rel="prefetch" href="/assets/js/96.36ce736d.js"><link rel="prefetch" href="/assets/js/97.a0c29600.js"><link rel="prefetch" href="/assets/js/98.9583dd8f.js"><link rel="prefetch" href="/assets/js/99.486a0635.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b9bba9f9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/avatar.png" alt="chenglun17 blog" class="logo"> <span class="site-name can-hide">chenglun17 blog </span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  快速了解
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机基础" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cs/DS/" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/cs/OS/" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/cs/CN/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/cs/CO/" class="nav-link">
  计算机组成原理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端基础" class="mobile-dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/troika/html_css_study/" class="nav-link">
  HTML/CSS
</a></li><li class="dropdown-item"><!----> <a href="/troika/js_study/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/troika/WebAPI_Interface/" class="nav-link">
  Web API 接口
</a></li><li class="dropdown-item"><!----> <a href="/troika/various_functions/" class="nav-link">
  各种功能
</a></li><li class="dropdown-item"><!----> <a href="/troika/promise_study/" class="nav-link">
  Promise
</a></li><li class="dropdown-item"><!----> <a href="/troika/ajax_study/" class="nav-link">
  Ajax
</a></li><li class="dropdown-item"><!----> <a href="/troika/axios_study/" class="nav-link">
  Axios
</a></li><li class="dropdown-item"><!----> <a href="/troika/webpack_study/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/troika/babel_study/" class="nav-link">
  Babel
</a></li><li class="dropdown-item"><!----> <a href="/troika/TypeScript_Study/" class="nav-link">
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web前端" class="dropdown-title"><span class="title">Web前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web前端" class="mobile-dropdown-title"><span class="title">Web前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frame/vue_study/" class="nav-link">
  Vue2.x
</a></li><li class="dropdown-item"><!----> <a href="/frame/vue3_study/" class="nav-link">
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/frame/VueInterview/" class="nav-link">
  Vue面试相关
</a></li><li class="dropdown-item"><!----> <a href="/frame/react_study/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/frame/Bootstrap_study/" class="nav-link">
  Bootstrap
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他学习" class="dropdown-title"><span class="title">其他学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他学习" class="mobile-dropdown-title"><span class="title">其他学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/others/nodejs_study/" class="nav-link">
  Nodejs
</a></li><li class="dropdown-item"><!----> <a href="/others/git_study/" class="nav-link">
  Git/Tortoisegit
</a></li><li class="dropdown-item"><!----> <a href="/others/regex_study/" class="nav-link">
  正则表达式
</a></li><li class="dropdown-item"><!----> <a href="/others/linux_study/" class="nav-link">
  Linux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="移动端" class="dropdown-title"><span class="title">移动端</span> <span class="arrow down"></span></button> <button type="button" aria-label="移动端" class="mobile-dropdown-title"><span class="title">移动端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mobile/miniprogram_study/" class="nav-link">
  小程序学习
</a></li><li class="dropdown-item"><!----> <a href="/mobile/uni-app_study/" class="nav-link">
  uni-app
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java后端" class="dropdown-title"><span class="title">Java后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java后端" class="mobile-dropdown-title"><span class="title">Java后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/java_core/" class="nav-link">
  Java核心基础
</a></li><li class="dropdown-item"><!----> <a href="/java/sql_study/" class="nav-link router-link-active">
  SQL/MySQL
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/chenglun17" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  快速了解
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机基础" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cs/DS/" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/cs/OS/" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/cs/CN/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/cs/CO/" class="nav-link">
  计算机组成原理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端基础" class="mobile-dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/troika/html_css_study/" class="nav-link">
  HTML/CSS
</a></li><li class="dropdown-item"><!----> <a href="/troika/js_study/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/troika/WebAPI_Interface/" class="nav-link">
  Web API 接口
</a></li><li class="dropdown-item"><!----> <a href="/troika/various_functions/" class="nav-link">
  各种功能
</a></li><li class="dropdown-item"><!----> <a href="/troika/promise_study/" class="nav-link">
  Promise
</a></li><li class="dropdown-item"><!----> <a href="/troika/ajax_study/" class="nav-link">
  Ajax
</a></li><li class="dropdown-item"><!----> <a href="/troika/axios_study/" class="nav-link">
  Axios
</a></li><li class="dropdown-item"><!----> <a href="/troika/webpack_study/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/troika/babel_study/" class="nav-link">
  Babel
</a></li><li class="dropdown-item"><!----> <a href="/troika/TypeScript_Study/" class="nav-link">
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web前端" class="dropdown-title"><span class="title">Web前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web前端" class="mobile-dropdown-title"><span class="title">Web前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frame/vue_study/" class="nav-link">
  Vue2.x
</a></li><li class="dropdown-item"><!----> <a href="/frame/vue3_study/" class="nav-link">
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/frame/VueInterview/" class="nav-link">
  Vue面试相关
</a></li><li class="dropdown-item"><!----> <a href="/frame/react_study/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/frame/Bootstrap_study/" class="nav-link">
  Bootstrap
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他学习" class="dropdown-title"><span class="title">其他学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他学习" class="mobile-dropdown-title"><span class="title">其他学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/others/nodejs_study/" class="nav-link">
  Nodejs
</a></li><li class="dropdown-item"><!----> <a href="/others/git_study/" class="nav-link">
  Git/Tortoisegit
</a></li><li class="dropdown-item"><!----> <a href="/others/regex_study/" class="nav-link">
  正则表达式
</a></li><li class="dropdown-item"><!----> <a href="/others/linux_study/" class="nav-link">
  Linux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="移动端" class="dropdown-title"><span class="title">移动端</span> <span class="arrow down"></span></button> <button type="button" aria-label="移动端" class="mobile-dropdown-title"><span class="title">移动端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mobile/miniprogram_study/" class="nav-link">
  小程序学习
</a></li><li class="dropdown-item"><!----> <a href="/mobile/uni-app_study/" class="nav-link">
  uni-app
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java后端" class="dropdown-title"><span class="title">Java后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java后端" class="mobile-dropdown-title"><span class="title">Java后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/java_core/" class="nav-link">
  Java核心基础
</a></li><li class="dropdown-item"><!----> <a href="/java/sql_study/" class="nav-link router-link-active">
  SQL/MySQL
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/chenglun17" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/java/java_core/" class="sidebar-heading clickable"><span>Java 核心基础</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/java/sql_study/" class="sidebar-heading clickable router-link-active open"><span>SQL/MySQL</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/java/sql_study/Base.html" class="sidebar-link">SQL 基础</a></li><li><a href="/java/sql_study/Function.html" class="sidebar-link">SQL 函数</a></li><li><a href="/java/sql_study/mysql.html" class="sidebar-link">MySQL 基础</a></li><li><a href="/java/sql_study/Senior.html" aria-current="page" class="active sidebar-link">SQL/MySQL 高级</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#多表查询" class="sidebar-link">⭐️多表查询</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#笛卡尔集" class="sidebar-link">笛卡尔集</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#自连接" class="sidebar-link">自连接</a></li></ul></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#子查询" class="sidebar-link">⭐️子查询</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#子查询临时表" class="sidebar-link">子查询临时表</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#单行子查询" class="sidebar-link">单行子查询</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#多行子查询" class="sidebar-link">多行子查询</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#all-操作符" class="sidebar-link">ALL 操作符</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#any-操作符" class="sidebar-link">ANY 操作符</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#多列子查询" class="sidebar-link">多列子查询</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#合并查询" class="sidebar-link">合并查询</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#表复制-蠕虫复制" class="sidebar-link">表复制 (蠕虫复制)</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#思考-如何删除掉一张表重复记录" class="sidebar-link">思考：如何删除掉一张表重复记录？</a></li></ul></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#外连接" class="sidebar-link">⭐️外连接</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#约束" class="sidebar-link">⭐️约束</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#default-默认约束" class="sidebar-link">DEFAULT (默认约束)</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#not-null-非空约束" class="sidebar-link">NOT NULL (非空约束)</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#unique-唯一约束" class="sidebar-link">UNIQUE (唯一约束)</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#check-强制约束" class="sidebar-link">CHECK (强制约束)</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#primary-key-主键" class="sidebar-link">PRIMARY KEY (主键)</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#foreign-key-外键" class="sidebar-link">FOREIGN KEY (外键)</a></li></ul></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#自增长" class="sidebar-link">⭐️自增长</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#多表关联-join" class="sidebar-link">⭐️多表关联 JOIN</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#不同的-join" class="sidebar-link">不同的 JOIN</a></li></ul></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#mysql-表类型和存储引擎" class="sidebar-link">⭐️MySQL 表类型和存储引擎</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#存储引擎-表类型特点" class="sidebar-link">存储引擎/表类型特点</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#查看所有的存储引擎" class="sidebar-link">查看所有的存储引擎</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#如何选择存储引擎" class="sidebar-link">如何选择存储引擎</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#创建表时设置引擎" class="sidebar-link">创建表时设置引擎</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#修改存储引擎" class="sidebar-link">修改存储引擎</a></li></ul></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#mysql-索引" class="sidebar-link">⭐️MYSQL 索引</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#索引原理" class="sidebar-link">索引原理</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#索引的类型" class="sidebar-link">索引的类型</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#索引操作" class="sidebar-link">索引操作</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#索引创建规则" class="sidebar-link">索引创建规则</a></li></ul></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#mysql-事务" class="sidebar-link">⭐️MySQL 事务</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#事务的操作" class="sidebar-link">事务的操作</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#使用细节" class="sidebar-link">使用细节</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#隔离级别" class="sidebar-link">隔离级别</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#隔离级别的操作" class="sidebar-link">隔离级别的操作</a></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#事务-acid-特性" class="sidebar-link">事务 ACID 特性</a></li></ul></li><li class="sidebar-sub-header"><a href="/java/sql_study/Senior.html#视图-view" class="sidebar-link">⭐️视图 VIEW</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="sql-mysql-高级"><a href="#sql-mysql-高级" class="header-anchor">#</a> SQL/MySQL 高级</h1> <h2 id="多表查询"><a href="#多表查询" class="header-anchor">#</a> ⭐️多表查询</h2> <h3 id="笛卡尔集"><a href="#笛卡尔集" class="header-anchor">#</a> 笛卡尔集</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">,</span> dept<span class="token punctuation">;</span>
</code></pre></div><p>部门表 dept、员工表 emp</p> <p><img src="/assets/img/image-20230707092931193.c9cf71d3.png" alt="image-20230707092931193"></p> <p>在默认情况下，当两个表查询时，规则如下：</p> <ol><li>从第一张表中，取出一行和第二张表的每一行进行组合，返回结果（含有两张表的所有列）</li> <li>一共返回的记录数 = 第一张表行数 * 第二张表的行数</li> <li>这样的多表默认处理返回的结果，称为<strong>笛卡尔集</strong></li> <li>解决这个多表的关键就是要写出正确的过滤条件 WHERE</li></ol> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">,</span> dept
	<span class="token keyword">WHERE</span> emp<span class="token punctuation">.</span>deptno <span class="token operator">=</span> dept<span class="token punctuation">.</span>deptno<span class="token punctuation">;</span>
</code></pre></div><p><img src="/assets/img/image-20230707093141456.90fb68ab.png" alt="image-20230707093141456"></p> <h3 id="自连接"><a href="#自连接" class="header-anchor">#</a> 自连接</h3> <p>自连接：指在同一张表连接查询（<strong>将同一表视为两张表</strong>，需要给表取别名）</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> worker<span class="token punctuation">.</span>ename <span class="token keyword">AS</span> <span class="token string">'职员表'</span><span class="token punctuation">,</span> boss<span class="token punctuation">.</span>ename <span class="token keyword">AS</span> <span class="token string">'上级表'</span> 
	<span class="token keyword">FROM</span> emp worker<span class="token punctuation">,</span> emp boss
	<span class="token keyword">WHERE</span> worker<span class="token punctuation">.</span>mgr <span class="token operator">=</span> boss<span class="token punctuation">.</span>empno<span class="token punctuation">;</span>
</code></pre></div><p>这里取别名，也可以加上 <code>AS</code>。另外，列名不明确的场合，也要特别指定</p> <h2 id="子查询"><a href="#子查询" class="header-anchor">#</a> ⭐️子查询</h2> <p>子查询：指嵌入在其他 SQL 语句中的 SELECT 语句。也叫<strong>嵌套查询</strong></p> <p>可以把子查询当作一个临时表使用。</p> <h3 id="子查询临时表"><a href="#子查询临时表" class="header-anchor">#</a> 子查询临时表</h3> <p>可以将子查询当作一张临时表来使用。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> cat_id<span class="token punctuation">,</span> <span class="token function">MAX</span><span class="token punctuation">(</span>shop_price<span class="token punctuation">)</span> <span class="token keyword">AS</span> max_price
        <span class="token keyword">FROM</span> ecs_goods
        <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> cat_id<span class="token punctuation">;</span>
</code></pre></div><p><img src="/assets/img/image-20230707172933872.b521beae.png" alt="image-20230707172933872"></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询ecshop中各个类别中，价格最高的商品</span>
<span class="token keyword">SELECT</span> goods_id<span class="token punctuation">,</span> ecs_goods<span class="token punctuation">.</span>cat_id<span class="token punctuation">,</span> goods_name<span class="token punctuation">,</span> shop_price
	<span class="token keyword">FROM</span> <span class="token punctuation">(</span>
        <span class="token keyword">SELECT</span> cat_id<span class="token punctuation">,</span> <span class="token function">MAX</span><span class="token punctuation">(</span>shop_price<span class="token punctuation">)</span> <span class="token keyword">AS</span> max_price
        <span class="token keyword">FROM</span> ecs_goods
        <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> cat_id
    <span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token keyword">temp</span><span class="token punctuation">,</span> ecs_goods
	<span class="token keyword">WHERE</span> <span class="token keyword">temp</span><span class="token punctuation">.</span>cat_id <span class="token operator">=</span> ecs_goods<span class="token punctuation">.</span>cat_id
	<span class="token operator">AND</span> <span class="token keyword">temp</span><span class="token punctuation">.</span>max_price <span class="token operator">=</span> ecs_goods<span class="token punctuation">.</span>shop_price<span class="token punctuation">;</span>
</code></pre></div><p><img src="/assets/img/image-20230707172745815.1081b1df.png" alt="image-20230707172745815"></p> <h3 id="单行子查询"><a href="#单行子查询" class="header-anchor">#</a> 单行子查询</h3> <p>指只返回一行数据的子查询语句</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 如何显示与SMITH同一部门的所有员工？</span>

<span class="token keyword">SELECT</span> deptno <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> ename <span class="token operator">=</span> <span class="token string">'SMITH'</span><span class="token punctuation">;</span> <span class="token comment">-- 单行子查询</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="image-20230707171304854"></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp
	<span class="token keyword">WHERE</span> deptno <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> deptno <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> ename <span class="token operator">=</span> <span class="token string">'SMITH'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="/assets/img/image-20230707170832411.2cc133ac.png" alt="image-20230707170832411"></p> <h3 id="多行子查询"><a href="#多行子查询" class="header-anchor">#</a> 多行子查询</h3> <p>返回多行数据的子查询语句。使用关键字 <code>IN</code></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 如何查询和部门10的工作相同的雇员的信息（名字、岗位、工资、部门号）但是不包含10号部门自己的雇员？</span>

<span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> job <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> deptno <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">-- 多行子查询</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="image-20230707171239364"></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> ename<span class="token punctuation">,</span> job<span class="token punctuation">,</span> sal<span class="token punctuation">,</span> deptno 
	<span class="token keyword">FROM</span> emp
	<span class="token keyword">WHERE</span> job <span class="token operator">IN</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> job <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> deptno <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">)</span>
	<span class="token operator">AND</span> deptno <span class="token operator">!=</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="/assets/img/image-20230707170806241.cc3f7f3f.png" alt="image-20230707170806241"></p> <h3 id="all-操作符"><a href="#all-操作符" class="header-anchor">#</a> ALL 操作符</h3> <p>所有</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> ename<span class="token punctuation">,</span> sal <span class="token punctuation">,</span>deptno <span class="token keyword">FROM</span> emp
	<span class="token keyword">WHERE</span> sal <span class="token operator">&gt;</span> <span class="token keyword">ALL</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> sal <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> deptno <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
<span class="token keyword">SELECT</span> ename<span class="token punctuation">,</span> sal <span class="token punctuation">,</span>deptno <span class="token keyword">FROM</span> emp
	<span class="token keyword">WHERE</span> sal <span class="token operator">&gt;</span> <span class="token function">MAX</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> sal <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> deptno <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="any-操作符"><a href="#any-操作符" class="header-anchor">#</a> ANY 操作符</h3> <p>任意一个</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 显示工资比部门30的所有员工的工资高的员工的姓名、工资和部门号</span>
<span class="token keyword">SELECT</span> ename<span class="token punctuation">,</span> sal <span class="token punctuation">,</span>deptno <span class="token keyword">FROM</span> emp
	<span class="token keyword">WHERE</span> sal <span class="token operator">&gt;</span> <span class="token keyword">ANY</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> sal <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> deptno <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
<span class="token keyword">SELECT</span> ename<span class="token punctuation">,</span> sal <span class="token punctuation">,</span>deptno <span class="token keyword">FROM</span> emp
	<span class="token keyword">WHERE</span> sal <span class="token operator">&gt;</span> <span class="token function">MIN</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> sal <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> deptno <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="多列子查询"><a href="#多列子查询" class="header-anchor">#</a> 多列子查询</h3> <p>指返回多个列数据的子查询语句</p> <p><strong><code>(字段1, 字段2, ...) = (select 字段1, 字段2 from ...)</code></strong></p> <p>子查询列数要和条件列数相等，顺序对应</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询与allen属于相同部门且岗位也相同的所有雇员（不含allen本人）</span>
<span class="token comment">-- 1.先得到allen的部门和岗位</span>
<span class="token keyword">SELECT</span> deptno<span class="token punctuation">,</span> job <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> ename <span class="token operator">=</span> <span class="token string">'ALLEN'</span><span class="token punctuation">;</span>
<span class="token comment">-- 2.把上面的查询当做子查询来使用，并使用多列子查询的语法进行匹配</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp 
	<span class="token keyword">WHERE</span> <span class="token punctuation">(</span>deptno<span class="token punctuation">,</span> job<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> deptno<span class="token punctuation">,</span> job <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> ename <span class="token operator">=</span> <span class="token string">'ALLEN'</span><span class="token punctuation">)</span>
	<span class="token operator">AND</span> ename <span class="token operator">!=</span> <span class="token string">'ALLEN'</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="/assets/img/image-20230711114940107.6e397db5.png" alt="image-20230711114940107"></p> <h3 id="合并查询"><a href="#合并查询" class="header-anchor">#</a> 合并查询</h3> <p><strong>union</strong>，把两个（结构相同的）查询结果合并，<strong>会自动去掉结果集中重复行</strong>。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> ename<span class="token punctuation">,</span> sal<span class="token punctuation">,</span> job <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> sal<span class="token operator">&gt;</span><span class="token number">2500</span>
<span class="token keyword">UNION</span>
<span class="token keyword">SELECT</span> ename<span class="token punctuation">,</span> sal<span class="token punctuation">,</span> job <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> job <span class="token operator">=</span> <span class="token string">'MANAGER'</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="/assets/img/image-20230712151923683.0067f0e6.png" alt="image-20230712151923683"></p> <p><strong>union all</strong>，与 union 相似，但是<strong>不会自动去掉结果集中重复行</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> ename<span class="token punctuation">,</span> sal<span class="token punctuation">,</span> job <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> sal<span class="token operator">&gt;</span><span class="token number">2500</span>
<span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span> ename<span class="token punctuation">,</span> sal<span class="token punctuation">,</span> job <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> job <span class="token operator">=</span> <span class="token string">'MANAGER'</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="/assets/img/image-20230712151955805.0cd2d042.png" alt="image-20230712151955805"></p> <h3 id="表复制-蠕虫复制"><a href="#表复制-蠕虫复制" class="header-anchor">#</a> 表复制 (蠕虫复制)</h3> <p>有时，为了对某个SQL语句进行效率测试，我们需要海量数据时，可以使用此方法为表创建海量数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> table2
	<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> table1<span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> table2
	<span class="token punctuation">(</span>column_name<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">SELECT</span> column_name<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token keyword">FROM</span> table1<span class="token punctuation">;</span>
</code></pre></div><p><strong>自我复制：</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> table1
	<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> table1<span class="token punctuation">;</span>
</code></pre></div><h3 id="思考-如何删除掉一张表重复记录"><a href="#思考-如何删除掉一张表重复记录" class="header-anchor">#</a> 思考：如何删除掉一张表重复记录？</h3> <ul><li>先创建一张表 table1，并让其有重复记录</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 将emp表的结构(列)，复制到table1</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> table1 <span class="token operator">LIKE</span> emp<span class="token punctuation">;</span>

<span class="token keyword">DESC</span> table1<span class="token punctuation">;</span>

<span class="token comment">-- 多执行几次</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> table1
	<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> table1<span class="token punctuation">;</span>
</code></pre></div><ul><li>考虑去重表 table1 的重复记录</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- (1) 先创建一张临时表tmp，该表的结构和表table1一样</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> tmp <span class="token operator">LIKE</span> table1<span class="token punctuation">;</span>
<span class="token keyword">DESC</span> tmp<span class="token punctuation">;</span>

<span class="token comment">-- (2) 把表table1的记录通过distinct关键字处理后，复制到表tmp</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tmp
	<span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> table1<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> tmp<span class="token punctuation">;</span>

<span class="token comment">-- (3) 清除掉table1表记录</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> table1<span class="token punctuation">;</span>

<span class="token comment">-- (4) 把tmp表的记录复制到table1表</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> table1
	<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> tmp<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> table1<span class="token punctuation">;</span>

<span class="token comment">-- (5) drop掉临时表tmp</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> tmp<span class="token punctuation">;</span>
</code></pre></div><h2 id="外连接"><a href="#外连接" class="header-anchor">#</a> ⭐️外连接</h2> <p>前面学的的查询，是利用 WHERE 子句对两张表或多张表，形成的笛卡尔集进行筛选，根据<strong>关联条件</strong>，显示所有匹配的记录，匹配不上的不显示。</p> <ul><li>左外连接：<strong>左侧的表完全显示</strong>（即使没有匹配的记录，也会把左侧表完全显示）。</li> <li>右外连接：右侧的表完全显示。</li></ul> <p>创建两张表：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 创建 stu</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> stu <span class="token punctuation">(</span>
    id <span class="token keyword">INT</span><span class="token punctuation">,</span>
    <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'jack'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'tom'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'kity'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'nono'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu<span class="token punctuation">;</span>

<span class="token comment">-- 创建 exam</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> exam<span class="token punctuation">(</span>
    id <span class="token keyword">INT</span><span class="token punctuation">,</span>
    grade <span class="token keyword">INT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> exam <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">76</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> exam<span class="token punctuation">;</span>
</code></pre></div><p><img src="/assets/img/image-20230712160054389.4f142909.png" alt="image-20230712160054389"></p> <p>普通查询：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">,</span> stu<span class="token punctuation">.</span>id<span class="token punctuation">,</span> grade
	<span class="token keyword">FROM</span> stu<span class="token punctuation">,</span> exam
	<span class="token keyword">WHERE</span> stu<span class="token punctuation">.</span>id <span class="token operator">=</span> exam<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="image-20230712160011037"></p> <p>使用左外连接：显示所有人的成绩，如果没有成绩，也要显示该人的姓名和id号，成绩显示空</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 左外连接</span>
<span class="token keyword">SELECT</span> <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">,</span> stu<span class="token punctuation">.</span>id<span class="token punctuation">,</span> grade
	<span class="token keyword">FROM</span> stu <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> exam
	<span class="token keyword">ON</span> stu<span class="token punctuation">.</span>id <span class="token operator">=</span> exam<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="image-20230712155958916"></p> <p>使用右外连接：显示所有人的成绩，没有名字匹配，显示空</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 右外连接</span>
<span class="token keyword">SELECT</span> <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">,</span> stu<span class="token punctuation">.</span>id<span class="token punctuation">,</span> grade
	<span class="token keyword">FROM</span> stu <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> exam
	<span class="token keyword">ON</span> stu<span class="token punctuation">.</span>id <span class="token operator">=</span> exam<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAR4AAABXCAYAAADS6SrGAAATIklEQVR4nO2dfUyUV7rAf3z2rt1e2c3uZRN7dYERC2RvUi6ibDVsJ2EcOxHbjdiVvVhTlCssWhZxV5J6zYab0K0OqwXF5aNByaoppgoGO87cTEvMLlKIze2GobUDs2X1D+4fXVir2eIH948ZhvmEGRxmBub5JW/CnPd5n/fMc877nOc875xD1L1796YAzp07x+7du3HFYDCQl5fH4PinfPrV/3Lv4dckfusHrP/+C3z/n/4FgJaWFgoLC92uncabboC//bIYgKinniLhrVNOZQDf+V0r9+/f96p7Lt555x3279/v9bxOpyMrK2ve+oXAMTAwgFqtnlPuD3/4g8f+9NFHH7Fx40Y+++wz/vKXv3D//n2WLVvGD3/4Q5577jliYmJoaWnh5z//uVfdnZ2d/OxnP/OpvhcuXCA/P9+pLCoqyqt8R0cHcXFxAGzevHlO/R988IH972+++YZXX33Vq+zU1JT979/+9rc8evRoVt0xMTH8+te/9qnes9l7w4YN9PX1YTKZ+Prrr/n2t79NRkYG2dnZxMbGerV3rOOHlpYWjzduaWnh2Wef5d/+NZOnnnqKif+bwPinD7l79+6sX24u3S+88AJpv2sF4MGDB3z66afExcXZywCGhoZYtWqVz/cRIgNvffX27dukpaWxYcMGnn76ae7du4fZbObcuXN88803Pum+cOFCIKtq57vf/S5fffWV3fn4yuTkJImJiT7Lp6amMjQ0NKeMP8xl7+3btzvZ+8KFC/zjH//wqi9qOuJZqkjEs3jwNeIRFj9L3vHMhU6nC3UVBAfE8UQGEe94BEEIPtGhroAgCJGHOB5BEIKOOB5BEIKOOB5BEIJObEdHx4Ipv7hsx4LpjlS23T8f6ioIgk+89tprXs/Fvvzyywt244v6BVMd0Sxkm0Uily9fFpsGmMuXL896PhZg+fLlAb/xxMREwHUKgrA0iPVUuGfPHr+UNDc3B6QywpPRqErg0is30Zcmh7oqgjArklyOYBpVCSQkJKBqHAl1VQQvLNU28hjxTDNXJONvZCQsLKX6cUr9lN/UqGLvgtVIeFKWahtJxCMIQtAJnuNZGcuVgniuFMTy4vJo3lTH2z7H8eZKF9nl0byWE0djwYxMY040ya661LG8lhPHlYJ46/mVsbZr4nhzpfP+Ii/a5KaPRnUsLwY+px4CDFQkWMPxuULykcYKVHZZFRVLLHwPJE62UlXQODJj5wqDTchQYbd7hQFGDDPXqCoasVt3xEBjhcrJ9qoKA56s72sbGSpU9nsnJCSgUlVgWETNGTzHM/qQLR0P6SOKSlUMfzU9YEvHJG/0PWbFujhnJzAxxXXTA0o7JtnSMcmWjge8Rywn1DEzuvSPuP1MNOv//ogtHQ+4sTyWE+nwnn6SLX1TrFsXY3dUyRlxbOcRb+in9U1y1DTF9pxYXgyaARaKPI6PjzM+Ps7N2myvUiONKvZ+ruG0TXZ8/DQa9rK3+uMg1nVx4Gar0/thbwFtZFN7c5zjeTbBvOOMj4/TsQvajqrIPAqvdNxkfHyc0xrFjMLkFDbt16O3217PQQrIVDXOfl8vbTTSqOIoB7l5c1punNMH13B0bwUGFgez5ngWhij6+iY5M2r9NDL6iBvp0TgHPVOMuLyN/9D0iO05LqruPqJ08DEAoxNw+++P+HDCev1tolgFjBBNYfoU73U8dhphRkYfUUosV3Ki+bD3cQC/Xzhi4J3qdA6O581EjSSTV6qHzxM4GsKahR8ebJWcTOnpWi5lXvJ6VfYrB9GX5tk/J+flOZxNJtnlRWPe/lqynRI3vraRJzlIzitFTwUJFQbGjzveOzwJgeN5zB9H5xBZHs2bOTGse8ZhunR3CpiHg1gexQqiqSyIp9LT+bsRsCvIiBlT9hqOeziVssZ7lBSReLNVsoL0WS5LV8zysI8YqNh7lLaPHSKX7Gzglbnvi0sbjZgx0UZbQpvne2WvAcTxzIMo3lTFQN9D3hidmolSlsfQ6Brx+MLEY+4QxXsdD/kwgLVcVCQrSP+4GwPuXXL4849hTSgqFaZ4s9WIGRPzMdUIFZlHoeM0N/OSZ6KUkUZUjhGPr22UvIl0Pufg+PFF4F68E4ZvtaxRzl8nZpxOsi0CenZe+qb47z7Yro4h2SmZHMWLGXFcyQlDEwScPPbXmjjqlNAcwdCo4qiXgTNy8WCrkREa91Yzv2zYMABrUmaczsiIgQo3fb62UTLHO+CoqpERp2SyVTahYnFkeWaNeAL6O52VsVxZZ33I1xXEsVL/gDMT0bxZEMs6AFU8600PKB18zLm+aA6q4tlmu/T23ce8Z3rEinUxXCmIoq4PKm26rhREc1H/gFHg2fQ4rvzzQ7aYAKKpnL7P6EOOEkNhTjzrnpmu0BR9pkdsWeT5nZFGFZlOycdMEqptf+7qsM/3k0v1nG6sYG9Cga3DZ7Or9jSna/eSWZ1JwucdiyI3EAzcbJW9i9rTHezKdM6GGSoSKJh2Cm0J2P1Ddi3j+ulfVOWxv6ObvZkJTDdLdvYuDh6sxVRQTULC53TYohef2yjvOKdp5J29CbTZmz6bXbUHF00bRo2Pj0+5rtUKxJKJiYkJ/kP/rSeqnODOtvvnZUFjgPFtkaiBioSjrLmpR1akzM3ly5dnX53uqVDWXgmCMyON3bRlv8JNcToBIRZkJbkguDHSiCrTIQ+TvYuO06WI3wkMUW1tbQv2Prl5eMVCqY5o9qTcCXUVBGFOZp1qzXbySWn+r/9ZMN2RzA/WbQ91FZYUD4eNxKYoQ12NJcXDYeOs54PyO57DhS8E4zZLnppzfwx1FQQhIETCj1gEQQgzQrMD4WgDlZveZ+M1I6+4rkwXBGHJs+QjnjtnlajTlqEubAh1VYQQcOd6AycKl1F5djjUVQlr+o8ssz4njscR7/+tYdqu07KVZ/37zw6h2YFwZTl1Q+Xzu9ZPVuw0ovtJA5WHgnI7IVwYbaDy0PtsVB9iW+nraC2hrlD4s7npPm9snFvuzlklxbp0/rP0z+g2pszrXmG4SFQQAsDKcurO2Qa3612hrctS4no5Wt1PaT1XzpP8WCZoUy37lMfpKKffVXBUz6UjSirtMkoqj+jx+MuVUT0nCh31KjlxtpzKWaZVzvVQcmmuLToEQbBzqfFdVpU+mdOBIDqeFTuN6IbuzxzX3va8v8nKFLKLjdTZZY3s4GWK3ZyJnhOb3mJlabOD3mZ+jAnTbBVJSif9+depuWbVLcntyMA0LDmeufigZJnzIH7d1WZ6Rj95nR+vGubSEaXDYO+/bcNwqpXCChdnsLb4bdJdcjT9R17my+o/84bTHDOFtTuN6HZ60vsZ/UeUHP7iycNEQVhqrP3NfXS/cSwZ5lLhHi6tch+c/9S6hy9TDqEbUgHD3Dn7O06c/SVv7PQ93xN+b7Xcpk/LUB9632MUsyrJj8TWJ+9y/osbsDpVnI4gzEkK2Wq4/pFrNPMuX6Y0U7dTZZdbsTMfdB/4pT3MHM8wJza9BaXNtDpOy976qcdp2ZcWP0K859+m7tx9anhLXq0KwrxQ8eMArdYJO8cDsHJVij0quTOq58ShX7lFPGuL34baPVxynIeODtN/tpzKNCX9XpLGa3/TzEbdHnE+gmDjzlkl6sJy+kdnnok718sproWNP3GeVbg9d6PDXCp8C0r9+3lM8HYg9AkV25q60G5axu9tJenPv86O0rf5suRXqNM+o2aogbVgfV16LZUTh/agLrlhk15P+vafcuBagz1PdOeskuLaG/D829aC0Q+4/skNTJ/8CHUtpFf/mTo/5qbCImG0gcpNjgPWu6jfs/7l6+9VIoUVO420JjVw8dCPOPyJrfD516m5ZmSt68uXleXUXYMTh36EugRgPZurm/22Z9TU1JTbthiBWjKxwbY63eMi0VHrj/oOSKLXZ6YXicqi28Aiq9MDz8NhIxqNxuv5kO1AeOej9zGtPiRORxAikKC8Tq8590f+1p2H6eZM2TOZpfy75mnZ6kEQIpDYM2fOLKD6mXjmOxoDL3iPvAQ/mGuTJcF/xKbBZUF3IOTMGQoLCxdOfwSi1+tRqVRzCwo+IzYNPHr97KvVw+x1uiAIkYA4HkEQgk5odiAUBCGikYhHWLqY6ynLjSc+Pp74+FzK6s2hrlF4oiuz2cj1KEPn5RKzztG28eTWe5P0THB3IDTXk1sMPT37/LtOEPxGR1n6RegyMalWgNlMfXE6uZjo2acIdeXCj91dTJ5SOxToKIv3vIGauT6X9IsZaKtttp0HEvEISxJzfS2D2lZOTT8YCgX7WrVw0b9V1BGB+pSL0wF0XbTszkftKqsro/jiNkw9p9g3T6cDQXM8Zupz44lPP0Bv7wHncC633oO4cxgXn1uGPUqeDgtzy6gvy7WGeWU6zLoycqdDap2E1JGOYl+Pe2RjHqI3Y3VoKrTI0HW1sDvfze1QX9tCRvU+njRmDJLjUbCvZ5JJk5acHC2Tk5Mzh+u0S1dGbjFU9jjKVLK6LpcyHVbvbNKS09vCxbRqJidNbBvMJ70Wqk2TTHZl0JJfh7gewQmzjrLaQbSV7g+T4IqZrpbduPsdHUO9u8lXmO2D/nxzZ2E31aqvHWRbq6tHVaCu3MZgrUN0lKOlZ58aULA6A3K2VaJWAIo0ckAcjzCDWUdZcS1prT1IescHdHWep1k2uuqKbYP+JJOTrVRS57fzCTPHo2OoN4PVnjqHYjUZvUNes+yC4BFzPbnFteSL0/EZb9MsKy0MprXaBn0ABYp9+X7nzsLM8ahJyxnkC0/O0/wFgzlpXr2wILhi1pWRWzxEdU8PT5AHjTC8TbMA1OTvDsxdgu94eoew537NOmsSuWwmjtlXncHF4nrMjs7HbKa++CIZ1fIaXvANXVkuxV35tPacmhmszPXkenqZIcygq6NllgFeXamFA8XUTz/EZjP1ubXg57MZ3B0IFfto1ZZRnB5PPgA57NZ2MbnP4WuqT9GjqKesOJ6WXltZzm60rT2cUmB9q5XfAkB8/EW0ph5WA70H0okf6mKyEqCF/PhBtCYJryOVLwZ76e3NJ73F5USONiT1WSzoulrI2TbLP4hS7KPHBGXF6cTng/UZbsX1bfxcLOgOhGdkdXrAkZXUgUdsGnj0en147kAoCELkEmbJZUEQIoGotrY2t6lWIPne9763kOoFQQhTZp1qLeQOhGfOnGHt2rULpj8S6e/vF5sGGLFp4Onv75/1vEy1BEEIOuJ4BEEIOrIDoSAIQSc8Ih5LExpNFZZQ18NPjFWJaJoWW62fAGknASNVmkQSE62HpqppXv1hVsfT3Nw86xEYjFSt72RrwzGSbCVNjl/M3mGMVCXOlCdqmsBYNfM5UUOTBevD4SBXZbS4X5uYSGKipwfIVzkrypeKGOg0LLoHcX5IOwkWmjRaUhvGGBuzHg0v3aK8yv//SRbiiMdCk2YHQzUNlCTNlJZ0j3GjJousrCwGOg22UiXHxqzlFJ1nrLsElMc4XwRF58cYG+u26kgqoXtszF5+TJlkv3bsRg1ZWTU2o808QDP4KmcjKZWsgU4MS75HSzsJgMVAJ1ud+kCS8iXS2q/ir+sJreMxnuQwNTSUuHcZyy3Y2tBA0UAnjlGy5dYARS8p7Z/NQ1mkul1u5Gp7EQ5i1msNnbA1b85q+SpHkoI0Bri11Du0tJMAVju6tDMWM0NZqd6dvhdC6HgsNGnbydqa56HSFq62p6FISuIXNdBpH6oszh3Y0kQnW8lzVWAzhtK1+NYAaYq5TeSrXGQg7SRMo+TYja10lmvQaBLRaKrQlN/iQEPJInI8FgOdA1lsdeuN1nPTHTIpbyscPmmdn9tCPfslllsMpCncvrTnkdDiZdR1u7mPchGCtJPggPHkLQ50d9PdPUZ39zG6G1K5Oo85bMgcj8XQyUCWh1EQbPG7rUMmlbA1q52TRtw6sMU8RJaHnudxJHR9GABrht4lK++rHIDxKu24TxWWEtJOgh1LE9ohlwg1SQGHTy6yHA94DNGMV9udOmTJgSLarxqxmIec8gbWAdNVg+e8gcdR13iVdtcyX+Vs9aToJbepwlJE2kkAIM11gyslqVn+qwm54/GEWwit/AVF7VrKO3EqV6QNcPik0T7CWYxNVGm0cP6Ye97Aw6j7JGVYmtC2Z1Hzi8jtztJOEUZSHmlDWueXCMYqOnHP081FcHcgdCBJkQYDt7DgOJoaqUrcQTvA+kQOF51n7JgSsCYv1x9Oo8GhXymP3aCmqpz1iTusBVlF1BxooMTBCsaqRHa0T39aT+Jh53oUnU/yS86u9+RhBorO073EcwzSTsIMSRxrOEBVeSKJA9aSrKIaGrpL/Na04DsQbt682ctVRqoStaTe6MbDW9rwxliFRptKQ7f/2fwnJfgrqZd+O8nq9MDT398frjsQKnmpaAdag4WSxdSjLUY0WjgQAqcTGqSdhMAz61RroVEeG1t8Cb8kJd3di67WT4S0kxBoZAdCQRAWhNmmWh5zPIIgCAtJWL5OFwRhaSOORxCEoCOORxCEoCOORxCEoCOORxCEoPP/oD/KGnJJ8UgAAAAASUVORK5CYII=" alt="image-20230712160427031"></p> <h2 id="约束"><a href="#约束" class="header-anchor">#</a> ⭐️约束</h2> <p>SQL 约束用于规定表中的数据规则。如果存在违反约束的数据行为，行为会被约束终止。</p> <p>约束可以在创建表时规定（通过 CREATE TABLE 语句），或者在表创建之后规定（通过 ALTER TABLE 语句）。</p> <h3 id="default-默认约束"><a href="#default-默认约束" class="header-anchor">#</a> DEFAULT (默认约束)</h3> <p>DEFAULT 约束<strong>用于向列中插入默认值</strong>。</p> <p>如果没有规定其他的值，那么会将默认值添加到所有的新记录。</p> <p><strong>MySQL / SQL Server / Oracle / MS Access：</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Persons<span class="token punctuation">(</span>
    P_Id <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    LastName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    FirstName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Address <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    City <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">'Sandnes'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="not-null-非空约束"><a href="#not-null-非空约束" class="header-anchor">#</a> NOT NULL (非空约束)</h3> <p>NOT NULL 约束<strong>用于强制列不接受 NULL 值</strong>。</p> <p>NOT NULL 约束强制字段始终包含值。即如果不向字段添加值，就无法插入新记录或者更新记录。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Persons <span class="token punctuation">(</span>
    ID <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    LastName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    FirstName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    Age <span class="token keyword">int</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>📢 注意：</strong> 如果插入 <code>NULL</code> 值，则会报错 <code>ORA-01400</code> 提示无法插入！</p> <p><strong>拓展小知识：</strong> <code>NOT NULL</code> 也可以用于查询条件：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Persons <span class="token keyword">WHERE</span> FirstName <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>添加 NOT NULL 约束：</strong></p> <p>在一个已创建的表的 &quot;Age&quot; 字段中添加 NOT NULL 约束如下所示：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Persons <span class="token keyword">MODIFY</span> Age <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>删除 NOT NULL 约束：</strong></p> <p>在一个已创建的表的 &quot;Age&quot; 字段中删除 NOT NULL 约束如下所示：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Persons <span class="token keyword">MODIFY</span> Age <span class="token keyword">int</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="unique-唯一约束"><a href="#unique-唯一约束" class="header-anchor">#</a> UNIQUE (唯一约束)</h3> <p>UNIQUE <strong>约束唯一标识数据库表中的每条记录</strong>。</p> <p>UNIQUE 和 PRIMARY KEY 约束均为列或列集合提供了唯一性的保证。</p> <p><strong>PRIMARY KEY 约束拥有自动定义的 UNIQUE 约束</strong>。</p> <div class="language-sql extra-class"><pre class="language-sql"><code>字段名 字段类型 <span class="token keyword">unique</span>
</code></pre></div><p>**MySQL：**下面的 SQL 在 &quot;Persons&quot; 表创建时在 &quot;P_Id&quot; 列上创建 UNIQUE 约束</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Persons<span class="token punctuation">(</span>
    P_Id <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    LastName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    FirstName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Address <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    City <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">UNIQUE</span> <span class="token punctuation">(</span>P_Id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>请注意：</p> <ul><li><strong>每个表可以有多个 UNIQUE 约束，但是每个表只能有一个 PRIMARY KEY 约束</strong>。</li> <li>如果没有 NOT NULL 约束，则 UNIQUE 字段可以有多个 NULL 值。</li></ul> <h3 id="check-强制约束"><a href="#check-强制约束" class="header-anchor">#</a> CHECK (强制约束)</h3> <p>CHECK 约束<strong>用于限制列中的值的范围</strong>。</p> <p>如果对单个列定义 CHECK 约束，那么该列只允许特定的值。</p> <p>如果对一个表定义 CHECK 约束，那么此约束会基于行中其他列的值在特定的列中对值进行限制。</p> <div class="language-sql extra-class"><pre class="language-sql"><code>字段名 字段类型 <span class="token keyword">check</span> <span class="token punctuation">(</span>条件<span class="token punctuation">)</span>
</code></pre></div><p>**MySQL：**在 &quot;Persons&quot; 表创建时在 &quot;P_Id&quot; 列上创建 CHECK 约束。CHECK 约束规定 &quot;P_Id&quot; 列必须是大于 0 的整数。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Persons<span class="token punctuation">(</span>
    P_Id <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    LastName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    FirstName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Address <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    City <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">CHECK</span> <span class="token punctuation">(</span>P_Id <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><h3 id="primary-key-主键"><a href="#primary-key-主键" class="header-anchor">#</a> PRIMARY KEY (主键)</h3> <p>PRIMARY KEY 约束唯一标识数据库表中的每条记录（即每行的数据）。</p> <ul><li>主键必须包含唯一的值。主键列不能为 NULL 值。</li> <li>一张表只能有一个主键，但可以是复合主键。</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code>字段名 字段类型 <span class="token keyword">primary</span> <span class="token keyword">key</span>

（在表定义的最后写）<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>列名<span class="token punctuation">)</span>

<span class="token comment">-- 查看 primary key 的情况</span>
<span class="token keyword">desc</span> 表名<span class="token punctuation">;</span>
</code></pre></div><p><strong>主键</strong>用于唯一的表示表行的数据。当定义主键约束后，<strong>该列不能重复</strong>。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>temp1<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
    <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">INT</span><span class="token punctuation">,</span>
    <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token identifier"><span class="token punctuation">`</span>location<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token comment">-- 复合主键</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这里，<code>(id, name)</code> 构成复合主键。id 和 name 都相同的，不能重复</p> <h3 id="foreign-key-外键"><a href="#foreign-key-外键" class="header-anchor">#</a> FOREIGN KEY (外键)</h3> <p>一个表中的 FOREIGN KEY 指向另一个表中的 UNIQUE KEY(唯一约束)。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>本表字段名<span class="token punctuation">)</span> <span class="token keyword">references</span> 主表名<span class="token punctuation">(</span>主键名或<span class="token keyword">unique</span>字段名<span class="token punctuation">)</span>
</code></pre></div><p><strong>外键</strong>用于定义主表和从表之间的关系。<strong>外键约束要定义在从表上，主表必须有主键或唯一约束</strong>。（先约束自己，再约束他人！）</p> <p><img src="/assets/img/image-20230712173438617.2b4aeacd.png" alt="image-20230712173438617"></p> <p><strong>使用细节：</strong></p> <ol><li><p>外键指向的表的字段，要求是 primary key 或 unique</p></li> <li><p>表的类型是 innodb，这样的表才支持外键</p></li> <li><p>外键字段的类型要和主子段类型一致（可以长度不同）</p></li> <li><p><strong>外键字段的值，必须在主键字段中出现过（存在），或为 NULL（在外键字段允许的情况下）</strong></p></li> <li><p>一旦确立主外键关系，数据就不能随意删除了</p></li> <li><p>如何删除外键：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 1.查看该表创建语句，获取外键名称</span>
<span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> 表名<span class="token punctuation">;</span>
<span class="token comment">-- 2.删除外键</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">DROP</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> 外键名<span class="token punctuation">;</span>
</code></pre></div></li></ol> <h2 id="自增长"><a href="#自增长" class="header-anchor">#</a> ⭐️自增长</h2> <p>在某张表，存在一个id列（整数），我们希望在添加记录的时候，自动地创建主键字段的值，该列从1开始，自动的增长。</p> <div class="language-sql extra-class"><pre class="language-sql"><code>字段名 字段类型 <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span>
</code></pre></div><p>添加自增长的字段方式：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> table_name<span class="token punctuation">(</span>字段<span class="token number">1</span><span class="token punctuation">,</span> 字段<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">'值'</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> table_name<span class="token punctuation">(</span>字段<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'值1'</span><span class="token punctuation">,</span> <span class="token string">'值2'</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> table_name <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">'值1'</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol><li><p>如果希望自增长，插入数据时该列插入 null</p></li> <li><p>一般来说自增长是配合 primary key 使用的，也能（配合 unique）单独使用</p></li> <li><p>自增长修饰的字段是整数型的（小数类型也可以，但很少这样用）</p></li> <li><p>自增长从 1 开始。也可以修改这个自增长的默认值</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> 表名 <span class="token keyword">auto_increment</span> <span class="token operator">=</span> 新的开始值<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>如果添加数据时，给自增长字段(列)指定了具体的值，则以指定的值为准</p> <p>一般来说，指定了自增长，就按自增长的规则添加顺序</p></li></ol> <p>**用于 MySQL 的语法：**下面的 SQL 语句把 &quot;Persons&quot; 表中的 &quot;ID&quot; 列定义为 auto-increment 主键字段</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Persons<span class="token punctuation">(</span>
    ID <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
    LastName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    FirstName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Address <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    City <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>ID<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>MySQL 使用 AUTO_INCREMENT 关键字来执行 auto-increment 任务。</p> <p>默认地，AUTO_INCREMENT 的开始值是 1，每条新记录递增 1。</p> <p>要让 AUTO_INCREMENT 序列以其他的值起始，请使用下面的 SQL 语法：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Persons <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">;</span>
</code></pre></div><p>要在 &quot;Persons&quot; 表中插入新记录，我们不必为 &quot;ID&quot; 列规定值（会自动添加一个唯一的值）：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Persons <span class="token punctuation">(</span>FirstName<span class="token punctuation">,</span>LastName<span class="token punctuation">)</span>
	<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'Lars'</span><span class="token punctuation">,</span><span class="token string">'Monsen'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面的 SQL 语句会在 &quot;Persons&quot; 表中插入一条新记录。&quot;ID&quot; 列会被赋予一个唯一的值。&quot;FirstName&quot; 列会被设置为 &quot;Lars&quot;，&quot;LastName&quot; 列会被设置为 &quot;Monsen&quot;。</p> <h2 id="多表关联-join"><a href="#多表关联-join" class="header-anchor">#</a> ⭐️多表关联 JOIN</h2> <p>SQL JOIN 子句<strong>用于把来自两个或多个表的行结合起来，基于这些表之间的共同字段</strong>。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
	<span class="token keyword">FROM</span> table1 <span class="token keyword">JOIN</span> table2 <span class="token keyword">ON</span> condition<span class="token punctuation">;</span>
</code></pre></div><p>参数说明：</p> <ul><li><code>column1, column2, ...</code>：要选择的字段名称，可以为多个。如果不指定字段名称，则会选择所有字段</li> <li><code>table1</code>：要连接的第一个表</li> <li><code>table2</code>：要连接的第二个表</li> <li><code>condition</code>：连接条件，用于指定连接方式</li></ul> <p><img src="/assets/img/sql-join.8bc72b05.png" alt=""></p> <h3 id="不同的-join"><a href="#不同的-join" class="header-anchor">#</a> 不同的 JOIN</h3> <p>下面列出了您可以使用的 JOIN 类型，以及它们之间的差异。</p> <ul><li><strong>JOIN</strong>：如果表中有至少一个匹配，则返回行</li> <li><strong>INNER JOIN</strong>：内部连接，在表中存在至少一个匹配时，返回两表中匹配的行</li> <li><strong>LEFT JOIN</strong>：即使右表中没有匹配，也从左表返回所有的行</li> <li><strong>RIGHT JOIN</strong>：即使左表中没有匹配，也从右表返回所有的行</li> <li><strong>FULL JOIN</strong>：只要其中一个表中存在匹配，就返回行</li></ul> <p><strong>注释：</strong> INNER JOIN 与 JOIN 是相同的。</p> <p><img src="/assets/img/innerjoin.00c82fa1.png" alt=""></p> <p>最常见的 JOIN 类型：<strong>SQL INNER JOIN</strong>，表示从多个表中返回满足 JOIN 条件的所有行。</p> <p>INNER JOIN 关键字在表中存在至少一个匹配时返回行。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column_name<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
	<span class="token keyword">FROM</span> table1 <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> table2
	<span class="token keyword">ON</span> table1<span class="token punctuation">.</span>column_name <span class="token operator">=</span> table2<span class="token punctuation">.</span>column_name<span class="token punctuation">;</span>
</code></pre></div><p>或</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column_name<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
	<span class="token keyword">FROM</span> table1 <span class="token keyword">JOIN</span> table2
	<span class="token keyword">ON</span> table1<span class="token punctuation">.</span>column_name <span class="token operator">=</span> table2<span class="token punctuation">.</span>column_name<span class="token punctuation">;</span>
</code></pre></div><p>参数说明：</p> <ul><li><code>columns</code>：要显示的列名</li> <li><code>table1</code>：表1的名称</li> <li><code>table2</code>：表2的名称</li> <li><code>column_name</code>：表中用于连接的列名</li></ul> <h2 id="mysql-表类型和存储引擎"><a href="#mysql-表类型和存储引擎" class="header-anchor">#</a> ⭐️MySQL 表类型和存储引擎</h2> <p>MySQL 的表类型由存储引擎（Storage Engines）决定，主要支持六种类型：CSV、Memory（常用）、ARCHIVE、MRG_MYISAM、MyISAM（常用）、InnoDB（常用）。</p> <p>这六类又分为两类：</p> <ul><li><strong>事务安全型</strong>（transaction-safe）：InnoDB</li> <li>非事务安全型（non-transaction-safe）：其他类型都是非事务安全型</li></ul> <h3 id="存储引擎-表类型特点"><a href="#存储引擎-表类型特点" class="header-anchor">#</a> 存储引擎/表类型特点</h3> <p>重点介绍 MyISAM、InnoDB、Memory：</p> <ol><li><strong>MyISAM</strong> 存储引擎不支持事务，也不支持外键。但其访问速度快，对事务完整性没有要求</li> <li><strong>InnoDB</strong> 存储引擎提供了具有提交、回滚和崩溃恢复能力的事务安全。但比起 MyISAM，InnoDB 写入的处理效率差一些，并且会占用更多磁盘空间以保留数据和索引。</li> <li><strong>Memory</strong> 存储引擎使用存在内存中的内容来创建表。每个 Memory 表只实际对应一个磁盘文件。Memory 类型的表访问得非常快，因为<strong>它的数据是放在内存中的</strong>，并且默认使用 HASH 索引。但是<strong>一旦 MySQL 服务关闭，表中的数据就会丢掉（表的结构还在）</strong>。</li></ol> <table><thead><tr><th>特点</th> <th>MyISAM</th> <th>InnoDB</th> <th>Memory</th> <th>Archive</th></tr></thead> <tbody><tr><td>批量插入速度</td> <td>高</td> <td>低</td> <td>高</td> <td>非常高</td></tr> <tr><td><strong>事务安全</strong></td> <td></td> <td>支持</td> <td></td> <td></td></tr> <tr><td>全文索引</td> <td>支持</td> <td></td> <td></td> <td></td></tr> <tr><td><strong>锁机制</strong></td> <td>表锁</td> <td>行锁</td> <td>表锁</td> <td>行锁</td></tr> <tr><td>存储限制</td> <td>无</td> <td>64TB</td> <td>有（内存）</td> <td>无</td></tr> <tr><td>B树索引</td> <td>支持</td> <td>支持</td> <td>支持</td> <td></td></tr> <tr><td>哈希索引</td> <td></td> <td>支持</td> <td>支持</td> <td></td></tr> <tr><td>集群索引</td> <td></td> <td>支持</td> <td></td> <td></td></tr> <tr><td>数据缓存</td> <td></td> <td>支持</td> <td>支持</td> <td></td></tr> <tr><td>索引缓存</td> <td>支持</td> <td>支持</td> <td>支持</td> <td></td></tr> <tr><td>数据可压缩</td> <td>支持</td> <td></td> <td></td> <td>支持</td></tr> <tr><td>空间使用</td> <td>低</td> <td>高</td> <td>无</td> <td>非常低</td></tr> <tr><td>内存使用</td> <td>低</td> <td>高</td> <td>中等</td> <td>低</td></tr> <tr><td><strong>支持外键</strong></td> <td></td> <td>支持</td> <td></td> <td></td></tr></tbody></table> <blockquote><p><strong>行锁</strong>就是在操作表中的某行数据时，mysql会在该行加锁，防止其他连接去修改该行数据</p></blockquote> <h3 id="查看所有的存储引擎"><a href="#查看所有的存储引擎" class="header-anchor">#</a> 查看所有的存储引擎</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SHOW</span> ENGINES<span class="token punctuation">;</span>
</code></pre></div><p><img src="/assets/img/image-20230715165423557.2b9f820f.png" alt="image-20230715165423557"></p> <h3 id="如何选择存储引擎"><a href="#如何选择存储引擎" class="header-anchor">#</a> 如何选择存储引擎</h3> <blockquote><ul><li>InnoDB：支持事务、支持外键、支持行级锁</li> <li>MyISAM：添加速度快、不支持事务和外键、支持表级锁</li> <li>Memory：数据存储在内存中、执行速度很快、默认支持索引（HASH 表）</li></ul></blockquote> <ol><li>如果你的应用不需要事务，处理的只是基本的 CRUD 操作，那么 MyISAM 速度最快</li> <li>如果需要支持事务，选择 InnoDB</li> <li>Memory 数据存储在内存中，没有 I/O 操作故而速度极快。但内存存储使得其任何修改都会在服务器重启后消失（经典用法，用户在线状态）</li></ol> <h3 id="创建表时设置引擎"><a href="#创建表时设置引擎" class="header-anchor">#</a> 创建表时设置引擎</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> emp <span class="token punctuation">(</span>
    id <span class="token keyword">INT</span><span class="token punctuation">,</span>
    <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span> <span class="token keyword">INNODB</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="修改存储引擎"><a href="#修改存储引擎" class="header-anchor">#</a> 修改存储引擎</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">ENGINE</span> <span class="token operator">=</span> 存储引擎<span class="token punctuation">;</span>
</code></pre></div><h2 id="mysql-索引"><a href="#mysql-索引" class="header-anchor">#</a> ⭐️MYSQL 索引</h2> <p>提高数据库性能，增加查询速度。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> 索引名 <span class="token keyword">ON</span> 表名 <span class="token punctuation">(</span>列名<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="索引原理"><a href="#索引原理" class="header-anchor">#</a> 索引原理</h3> <ul><li>没有索引时：查询的场合总是会进行<strong>全表扫描</strong></li> <li>有索引时：<strong>形成一个索引的数据结构（如二叉树）</strong>，根据该结构进行查找</li></ul> <p>索引的代价：<strong>会造成磁盘的占用，且对 update delete insert 语句的效率产生影响</strong></p> <p>项目中，select 多，而 update，delete，insert 少</p> <p><img src="/assets/img/image-20230714170036824.bbc561d2.png" alt="image-20230714170036824"></p> <h3 id="索引的类型"><a href="#索引的类型" class="header-anchor">#</a> 索引的类型</h3> <ol><li><p>主键索引：primary key。<strong>主键自动为主键索引</strong></p></li> <li><p>唯一索引：unique。unique索引</p></li> <li><p>普通索引：index</p></li> <li><p>全文索引：fulltext</p> <p>一般开发不用 MySQL 自带的全文索引，而是使用全文搜索（Solr）和ElasticSearch（ES）</p></li></ol> <h3 id="索引操作"><a href="#索引操作" class="header-anchor">#</a> 索引操作</h3> <p>查询索引（三种方式）：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">INDEX</span> <span class="token keyword">FROM</span> 表名<span class="token punctuation">;</span>
<span class="token keyword">SHOW</span> INDEXES <span class="token keyword">FROM</span> 表名<span class="token punctuation">;</span>
<span class="token keyword">SHOW</span> <span class="token keyword">KEYS</span> <span class="token keyword">FROM</span> 表名<span class="token punctuation">;</span>
</code></pre></div><p>添加主键索引：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">ADD</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>列名<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>添加唯一索引：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">UNIQUE</span> <span class="token keyword">INDEX</span> 索引名 <span class="token keyword">ON</span> 表名<span class="token punctuation">(</span>列名<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>添加普通索引（两种方式）：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 方式一</span>
<span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> 索引名 <span class="token keyword">ON</span> 表名<span class="token punctuation">(</span>列名<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 方式二</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">ADD</span> <span class="token keyword">INDEX</span> 索引名<span class="token punctuation">(</span>列名<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>如果某列的值是不会重复的，则优先考虑唯一索引。否则用普通索引。</p></blockquote> <p>删除主键索引：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">DROP</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">;</span>
</code></pre></div><p>删除索引：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> 索引名 <span class="token keyword">ON</span> 表名<span class="token punctuation">;</span>
</code></pre></div><p>修改索引：先删除，再添加新的索引</p> <h3 id="索引创建规则"><a href="#索引创建规则" class="header-anchor">#</a> 索引创建规则</h3> <ol><li>较频繁地作为查询条件字段 <strong>适合</strong> 作为索引</li> <li>唯一性太差的字段（即使频繁作为查询条件）<strong>不适合</strong> 单独创建索引</li> <li>更新非常频繁的字段 <strong>不适合</strong> 创建索引</li> <li>不会出现在 WHERE 子句的字段 <strong>不适合</strong> 创建索引</li></ol> <h2 id="mysql-事务"><a href="#mysql-事务" class="header-anchor">#</a> ⭐️MySQL 事务</h2> <p>事务：<strong>用于保证数据的一致性</strong>，由<strong>一组相关的 DML 语句</strong>（update、insert、delete 语句）组成。该组 DML 语句要么全部成功，要么全部失败。比如转账就要用事务处理，以保证数据的一致性。</p> <p>执行事务操作时（DML语句），MySQL 会在表上<strong>加锁</strong>，防止其他用户修改表的数据。这对用户来讲是非常重要的。</p> <h3 id="事务的操作"><a href="#事务的操作" class="header-anchor">#</a> 事务的操作</h3> <ul><li><p><code>start transaction</code>：开始一个事务</p></li> <li><p><code>savepoint 保存点名</code>：设置保存点</p></li> <li><p><code>rollback to 保存点名</code>：回退事务到特定保存点</p></li> <li><p><code>rollback</code>：回退所有事务</p></li> <li><p><code>commit</code>：提交事务，让所有操作生效，不能再回退了。</p> <p>执行该语句后，会确认事务的变化、删除保存点、释放锁，并让数据生效。</p> <p>使用该语句后，其它会话（其他连接）将可以查看到事务变化后的新数据（所有数据正式生效）。</p></li></ul> <p><img src="/assets/img/image-20230715142456940.dc163e35.png" alt="image-20230715142456940"></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 1.创建一张测试表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> t27<span class="token punctuation">(</span>
    id <span class="token keyword">INT</span><span class="token punctuation">,</span>
    <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 2.开启一个事务</span>
<span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>

<span class="token comment">-- 3.设置保存点</span>
<span class="token keyword">SAVEPOINT</span> a<span class="token punctuation">;</span>
<span class="token comment">-- 执行DML操作</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> t27 <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'tom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SAVEPOINT</span> b<span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> t27 <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'jack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 回退到b</span>
<span class="token keyword">ROLLBACK</span> <span class="token keyword">TO</span> b<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> t27<span class="token punctuation">;</span>
<span class="token keyword">COMMIT</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="使用细节"><a href="#使用细节" class="header-anchor">#</a> 使用细节</h3> <ol><li><p>如果不提交事务，默认情况下，DML 操作是自动提交的，不能回滚。</p></li> <li><p>开始一个事务，没有创建保存点的场合，可以执行 rollback，默认回退到事务开始时的状态</p></li> <li><p>可以在这个事务中创建多个保存点</p></li> <li><p>可以在事务没有提交前选择回退到哪个保存点</p></li> <li><p>MySQL 需要 InnoDB 的存储引擎才可以使用。MyISAM 不行</p></li> <li><p>开始事务：<code>start transaction</code></p> <p>关闭默认自动提交事务：<code>set autocommit = off;</code></p></li></ol> <h3 id="隔离级别"><a href="#隔离级别" class="header-anchor">#</a> 隔离级别</h3> <p>隔离：多个连接开启各自事务操作数据库中数据时，数据库系统要负责隔离操作，以保证各个连接在获取数据时的准确性。</p> <p>如果不考虑隔离性，可能引发问题，如：</p> <ul><li><p><strong>脏读（dirty read）</strong>：</p> <p>当一个事务读取另一个事务尚<strong>未提交</strong>的修改时（update、insert、delete），产生脏读。</p></li> <li><p><strong>不可重复读（nonreapeatable read）</strong>：</p> <p>同一查询在同一事务中多次进行，由于其他<strong>提交事务</strong>所做的<strong>修改或删除</strong>，每次返回不同的结果集，此时发生不可重复读。</p></li> <li><p><strong>幻读（phantom read）</strong>：</p> <p>同一查询在同一事务中多次进行，由于其他<strong>提交事务</strong>所做的<strong>插入操作</strong>，每次返回不同的结果集，此时发生幻读。</p></li></ul> <p>隔离级别：定义了事务与事务之间的隔离程度。</p> <table><thead><tr><th>MySQL 隔离级别（4种）</th> <th>脏读</th> <th>不可重复读</th> <th>幻读</th> <th>加锁读</th></tr></thead> <tbody><tr><td>读未提交（Read uncommitted）</td> <td>√</td> <td>√</td> <td>√</td> <td>不加锁</td></tr> <tr><td>读已提交（Read committed）</td> <td>×</td> <td>√</td> <td>√</td> <td>不加锁</td></tr> <tr><td>可重复读（Reapeatable read）</td> <td>×</td> <td>×</td> <td>×</td> <td>不加锁</td></tr> <tr><td>可串行化（Serializable）</td> <td>×</td> <td>×</td> <td>×</td> <td>加锁</td></tr></tbody></table> <p>MySQL 的默认隔离级别是 Reapeatable read，一般情况下不需要修改</p> <p><strong>隔离级别是跟事务相关的，离开事务就不要谈隔离级别。</strong></p> <h3 id="隔离级别的操作"><a href="#隔离级别的操作" class="header-anchor">#</a> 隔离级别的操作</h3> <p>1.查看当前会话隔离级别：<code>SELECT @@transaction_isolation;</code></p> <div class="language-sh extra-class"><pre class="language-sh"><code>mysql<span class="token operator">&gt;</span> SELECT @@transaction_isolation<span class="token punctuation">;</span>
+-------------------------+
<span class="token operator">|</span> @@transaction_isolation <span class="token operator">|</span>
+-------------------------+
<span class="token operator">|</span> REPEATABLE-READ         <span class="token operator">|</span>
+-------------------------+
</code></pre></div><p>2.查看系统隔离级别：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> @<span class="token variable">@global.transaction_isolation</span><span class="token punctuation">;</span>
</code></pre></div><p>3.设置当前会话隔离级别：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">set</span> <span class="token keyword">session</span> <span class="token keyword">transaction</span> <span class="token keyword">isolation</span> <span class="token keyword">level</span> 隔离级别<span class="token punctuation">;</span>
</code></pre></div><p>4.设置系统隔离级别：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">set</span> <span class="token keyword">global</span> <span class="token keyword">transaction</span> <span class="token keyword">isolation</span> <span class="token keyword">level</span> 隔离级别<span class="token punctuation">;</span>
</code></pre></div><p>5.全局修改：修改 mysql.ini 配置文件。在 mysql.ini 文件的末尾加上：</p> <div class="language-ini extra-class"><pre class="language-ini"><code><span class="token comment">#设置默认隔离级别</span>
<span class="token key attr-name">transaction-isolation</span> <span class="token punctuation">=</span> <span class="token value attr-value">REPEATABLE-READ</span>
</code></pre></div><p>可选参数有：<code>READ-UNCOMMITTED</code>、<code>READ-COMMITTED</code>、<code>REPEATABLE-READ</code>、<code>SERIALIZABLE</code></p> <p>MySQL 的默认隔离级别是 Reapeatable read，一般情况下不需要修改</p> <h3 id="事务-acid-特性"><a href="#事务-acid-特性" class="header-anchor">#</a> 事务 ACID 特性</h3> <ol><li><p><strong>原子性（Atomicity）</strong>：</p> <p>事务是一个不可分割的工作单位，事务中的操作要么都发生，要么都不发生。</p></li> <li><p><strong>一致性（Consistency）</strong>：</p> <p>事务必须使数据库从一个一致性状态变换到另外一个一致性状态。</p></li> <li><p><strong>隔离性（Isolation）</strong>：</p> <p>多个用户并发访问数据库时，数据库为每一个用户开启的事务，不能被其他事务的操作数据所干扰，多个并发事务之间要相互隔离。</p></li> <li><p><strong>持久性（Durability）</strong>：</p> <p>一个事务一旦被提交，它对数据库中数据的改变就是永久性的。接下来即使数据库发生故障也不应该对其有任何影响。</p></li></ol> <h2 id="视图-view"><a href="#视图-view" class="header-anchor">#</a> ⭐️视图 VIEW</h2> <p>在 SQL 中，视图是基于 SQL 语句的结果集的可视化的表。</p> <p>视图包含行和列，就像一个真实的表。视图中的字段就是来自一个或多个数据库中的真实的表中的字段。</p> <p><strong>视图的作用：</strong></p> <ul><li>视图隐藏了底层的表结构，简化了数据访问操作，客户端不再需要知道底层表的结构及其之间的关系</li> <li>视图提供了一个统一访问数据的接口（即可以允许用户通过视图访问数据的安全机制，而不授予用户直接访问底层表的权限）</li> <li>从而加强了安全性，使用户只能看到视图所显示的数据</li> <li>视图还可以被嵌套，一个视图中可以嵌套另一个视图</li></ul> <p>可以向视图添加 SQL 函数、WHERE 以及 JOIN 语句，也可以提交数据，就像这些来自于某个单一的表。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> view_name <span class="token keyword">AS</span>
	<span class="token keyword">SELECT</span> column_name<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token keyword">FROM</span> table_name <span class="token keyword">WHERE</span> condition<span class="token punctuation">;</span>
</code></pre></div><p><strong>📢 注意：</strong> 视图总是显示最近的数据。每当用户查询视图时，数据库引擎通过使用 SQL 语句来重建数据。</p> <p><strong>更新视图：CREATE OR REPLACE VIEW</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">VIEW</span> view_name <span class="token keyword">AS</span>
	<span class="token keyword">SELECT</span> column_name<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token keyword">FROM</span> table_name <span class="token keyword">WHERE</span> condition<span class="token punctuation">;</span>
</code></pre></div><p><strong>删除视图：DROP VIEW</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">VIEW</span> view_name<span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/16/2024, 5:11:23 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/java/sql_study/mysql.html" class="prev">
        MySQL 基础
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.8d193749.js" defer></script><script src="/assets/js/3.892b1170.js" defer></script><script src="/assets/js/4.9cf8d126.js" defer></script>
  </body>
</html>
